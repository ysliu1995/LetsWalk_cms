{"version":3,"sources":["UserList.js","firebase/firebase.js","TeamList.js","TeamInfo.js","Notification.js","root.js","App.js","serviceWorker.js","index.js"],"names":["UserList","state","userinfo","open","handleClose","setState","handleToggle","handleClickOpen","download","f1","i","length","name","email","console","log","link","document","createElement","setAttribute","encodeURI","body","appendChild","click","this","fetch","then","res","json","data","JSON","parse","sort","a","b","localeCompare","catch","len","push","Grid","item","xs","Paper","List","ListItem","ListItemText","age","partner","container","spacing","Fab","color","aria-label","onClick","style","backgroundColor","right","bottom","left","position","Backdrop","CircularProgress","React","Component","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","storage","TeamList","roomInfo","userInfo","message","photo","content","imageList","handleClickOpen1","handleClickClose","handleClickClose1","progressOpen","url","URL","params","kind","Object","keys","forEach","key","searchParams","append","room","users","handleClose1","date","today","Date","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","ref","child","put","dataURItoBlob","dataURL","on","snapShot","err","getDownloadURL","fireBaseUrl","handleChange","e","target","value","onChange","dataURI","byteString","split","indexOf","atob","unescape","mimeString","ia","Uint8Array","charCodeAt","Blob","type","button","component","Link","to","pathname","roomId","id","user1","user","user2","active","textAlign","Breadcrumbs","Typography","Dialog","onClose","aria-labelledby","DialogTitle","DialogContent","DialogContentText","TextField","autoFocus","margin","label","fullWidth","DialogActions","Button","maxNumber","multiple","maxFileSize","acceptType","onImageUpload","onImageRemoveAll","map","image","src","width","height","onRemove","table_style","padding","CustomTableCell","withStyles","theme","head","palette","common","white","fontSize","TableCell","TeamInfo","messageDate","stepInfo","stepData","handleFireBaseUpload","preventDefault","downloadImg","imagepath","entries","TotalStep","teamStep","element1","f2","sender","element2","props","location","stepList","TableRow","align","variant","Table","TableHead","TableBody","maxHeight","overflow","index","array","Notitfication","currentIndex","splice","handleAllRight","concat","handleAllLeft","sendMessage","tokens","fcmtoken","justify","alignItems","Card","CardHeader","title","ListItemAvatar","Avatar","direction","size","multiline","rows","useStyles","makeStyles","root","display","appBar","zIndex","drawer","flexShrink","drawerPaper","flexGrow","toolbar","mixins","ClippedDrawer","classes","useState","selectedIndex","setSelectedIndex","handleListItemClick","event","className","CssBaseline","AppBar","Toolbar","noWrap","Drawer","paper","selected","ListItemIcon","Divider","exact","path","Notification","App","Boolean","window","hostname","match","ReactDOM","render","getElementById","navigator","serviceWorker","ready","registration","unregister","error"],"mappings":"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","file":"static/js/main.10c827e2.chunk.js","sourcesContent":["import React from 'react';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Grid from '@material-ui/core/Grid';\nimport Paper from '@material-ui/core/Paper';\nimport Backdrop from '@material-ui/core/Backdrop';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport Fab from '@material-ui/core/Fab';\nimport CloudDownloadIcon from '@material-ui/icons/CloudDownload';\n\nclass UserList extends React.Component {\n\tstate = {\n\t\tuserinfo: [],\n\t\topen: false,\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.setState({\n\t\t\topen: true,\n\t\t});\n        fetch('https://us-central1-letswalk-c0e21.cloudfunctions.net/GetAllUserInfo')\n        .then(res => res.json())\n        .then((data) => {\n\t\t\t  this.setState({ userinfo: JSON.parse(data) })\n\t\t\t  console.log(this.state.userinfo)\n\t\t\t  this.state.userinfo.userinfo.sort(function(a, b){\n\t\t\t\treturn a.email.localeCompare(b.email);\n\t\t\t  })\n\t\t\t  this.setState({\n\t\t\t\topen: false,\n\t\t\t});\n        })\n        .catch(console.log)\n\t}\n\n\thandleClose = () => {\n\t\tthis.setState({\n\t\t\topen: false,\n\t\t});\n\t};\n\thandleToggle = () => {\n\t\tthis.setState({\n\t\t\topen: true,\n\t\t});\n\t};\n\n\thandleClickOpen = () => {\n\t\tthis.download()\n\t}\n\n\tdownload = () => {\n\t\t//儲存步數資訊\n\t\tlet f1 = \"\";\n\t\tf1 += \"Name, Email\" + \"\\r\\n\";\n\t\tfor (let i=0;i<this.state.userinfo.userinfo.length;i++) {\n\t\t\tf1 += this.state.userinfo.userinfo[i].name + \",\" + this.state.userinfo.userinfo[i].email + \"\\r\\n\";\n\t\t}\n\t\tconsole.log('儲存使用者資訊');\n\t\tconst link = document.createElement(\"a\");\n\t\tlink.setAttribute(\"href\", \"data:text/csv;charset=utf-8,%EF%BB%BF\" + encodeURI(f1));\n\t\tlink.download = \"UserInfo.csv\";\n\t\tdocument.body.appendChild(link);\n\t\tlink.click();\n\t  }\n\n\trender () {\n\t\tlet data = [];\n\t\tif(this.state.userinfo.length !== 0){\n\t\t\tlet len = this.state.userinfo.userinfo.length;\n\t\t\tfor(let i=0;i<len;i++){\n\t\t\t\tdata.push(\n\t\t\t\t\t<Grid item xs={3}>\n\t\t\t\t\t\t<Paper>\n\t\t\t\t\t\t\t<List>\n\t\t\t\t\t\t\t\t<ListItem>\n\t\t\t\t\t\t\t\t\t<ListItemText>\n\t\t\t\t\t\t\t\t\t\t{ this.state.userinfo.userinfo[i].name } ({this.state.userinfo.userinfo[i].age})\n\t\t\t\t\t\t\t\t\t\t<p></p>\n\t\t\t\t\t\t\t\t\t\t{this.state.userinfo.userinfo[i].email}\n\t\t\t\t\t\t\t\t\t\t<p></p>\n\t\t\t\t\t\t\t\t\t\t{ this.state.userinfo.userinfo[i].partner !== 0 ? \"組隊中\": \"尚未組隊\"}\n\t\t\t\t\t\t\t\t\t</ListItemText>\n\t\t\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t\t\t</List>\n\t\t\t\t\t\t</Paper>\n\t\t\t\t\t</Grid>\n\t\t\t\t)\n\t\t\t}\n\t\t}\n        \n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<Grid container spacing={2}>\n\t\t\t\t\t{ data }\n\t\t\t\t</Grid>\n\t\t\t\t<Fab color=\"primary\" aria-label=\"text\" onClick={this.handleClickOpen} style={{backgroundColor: \"#37ABA2\", right: \"20px\", bottom: \"10px\", left: \"auto\", position: \"absolute\"}}>\n\t\t\t\t\t<CloudDownloadIcon />\n\t\t\t\t</Fab>\n\t\t\t\t<Backdrop style={{ color: '#fff',}} open={this.state.open}>\n\t\t\t\t\t<CircularProgress color=\"inherit\" />\n\t\t\t\t</Backdrop>\n\t\t\t</div>\n\t\t);\n\t}\n}\nexport default UserList;","import firebase from 'firebase/app'\nimport 'firebase/storage'\n\nvar firebaseConfig = {\n    apiKey: \"AIzaSyAnETEp2XQVFv2NdfhDrURjFYTvod3Yv3I\",\n    authDomain: \"letswalk-c0e21.firebaseapp.com\",\n    databaseURL: \"https://letswalk-c0e21.firebaseio.com\",\n    projectId: \"letswalk-c0e21\",\n    storageBucket: \"letswalk-c0e21.appspot.com\",\n    messagingSenderId: \"1007650815035\",\n    appId: \"1:1007650815035:web:d468a7a5d95c4941b1301e\"\n};\n// Initialize Firebase\nfirebase.initializeApp(firebaseConfig);\n\nconst storage = firebase.storage()\n\nexport  {\n    storage, firebase as default\n  }","import React from 'react';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Grid from '@material-ui/core/Grid';\nimport Paper from '@material-ui/core/Paper';\nimport Typography from '@material-ui/core/Typography';\nimport Breadcrumbs from '@material-ui/core/Breadcrumbs';\nimport { Link } from \"react-router-dom\";\nimport Backdrop from '@material-ui/core/Backdrop';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport ImageUploading from \"react-images-uploading\";\nimport Fab from '@material-ui/core/Fab';\nimport PhotoIcon from '@material-ui/icons/Photo';\nimport TextFieldsIcon from '@material-ui/icons/TextFields';\n\nimport {storage} from \"./firebase/firebase\";\n\nclass TeamList extends React.Component {\n\tstate = {\n\t\troomInfo: [],\n\t\tuserInfo: [],\n\t\tmessage: [],\n\t\topen: false,\n\t\tphoto: false,\n\t\tcontent: \"\",\n\t\timageList: [],\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.setState({\n\t\t\topen: false,\n\t\t});\n        fetch('https://us-central1-letswalk-c0e21.cloudfunctions.net/GetAllRoomInfo')\n        .then(res => res.json())\n        .then((data) => {\n\t\t\tthis.setState({ \n\t\t\t\troomInfo: JSON.parse(data).room,\n\t\t\t\tuserInfo: JSON.parse(data).users,\n\t\t\t})\n\t\t\tconsole.log(this.state.roomInfo);\n\t\t\tconsole.log(this.state.userInfo);\n\t\t\tthis.setState({\n\t\t\t\topen: false,\n\t\t\t});\n        })\n        .catch(console.log)\n\t}\n\thandleClickOpen = () => {\n\t\tthis.setState({\n\t\t\topen: true,\n\t\t})\n\t};\n\n\thandleClickOpen1 = () => {\n\t\tthis.setState({\n\t\t\tphoto: true,\n\t\t})\n\t};\n\n\thandleClickClose = () => {\n\t\tthis.setState({\n\t\t\topen: false,\n\t\t})\n\t};\n\n\thandleClickClose1 = () => {\n\t\tthis.setState({\n\t\t\tphoto: false,\n\t\t})\n\t};\n\n\thandleClose = () => {\n\t\tthis.setState({\n\t\t\topen: false,\n\t\t\tprogressOpen: true,\n\t\t})\n\t\tconsole.log(this.state.content);\n\t\tconsole.log(\"上傳\")\n\t\tvar url = new URL(\"https://us-central1-letswalk-c0e21.cloudfunctions.net/SendContentToAllRoom\"), params = { content:this.state.content, kind: \"text\" }\n\t\tObject.keys(params).forEach(key => url.searchParams.append(key, params[key]));\n\t\tfetch(url)\n        .then(res => res.json())\n        .then((data) => {\n\t\t\tconsole.log(data);\n\t\t\tconsole.log(\"下載\");\n\t\t\tfetch('https://us-central1-letswalk-c0e21.cloudfunctions.net/GetAllRoomInfo')\n\t\t\t.then(res => res.json())\n\t\t\t.then((data) => {\n\t\t\t\tthis.setState({ \n\t\t\t\t\troomInfo: JSON.parse(data).room,\n\t\t\t\t\tuserInfo: JSON.parse(data).users,\n\t\t\t\t})\n\t\t\t\tconsole.log(this.state.roomInfo);\n\t\t\t\tconsole.log(this.state.userInfo);\n\t\t\t\tthis.setState({\n\t\t\t\t\topen: false,\n\t\t\t\t});\n\t\t\t})\n\t\t\t.catch(console.log)\n        })\n        .catch(console.log)\n\t};\n\n\t// handleFireBaseUpload = e => {\n\t// \te.preventDefault()\n\t\t\n\t// }\n\tdataURItoBlob(dataURI) {\n\t\t// convert base64/URLEncoded data component to raw binary data held in a string\n\t\tvar byteString;\n\t\tif (dataURI.split(',')[0].indexOf('base64') >= 0)\n\t\t\tbyteString = atob(dataURI.split(',')[1]);\n\t\telse\n\t\t\tbyteString = unescape(dataURI.split(',')[1]);\n\t\n\t\t// separate out the mime component\n\t\tvar mimeString = dataURI.split(',')[0].split(':')[1].split(';')[0];\n\t\n\t\t// write the bytes of the string to a typed array\n\t\tvar ia = new Uint8Array(byteString.length);\n\t\tfor (var i = 0; i < byteString.length; i++) {\n\t\t\tia[i] = byteString.charCodeAt(i);\n\t\t}\n\t\n\t\treturn new Blob([ia], {type:mimeString});\n\t}\n\n\thandleClose1 = () => {\n\t\tthis.setState({\n\t\t\tphoto: false,\n\t\t\tprogressOpen: true,\n\t\t})\n\t\tconsole.log(this.state.imageList[0]);\n\t\tconsole.log('start of upload')\n\t\tconst today = new Date();\n\t\tlet date = \"\";\n\t\tdate = today.getFullYear() + \n\t\t\t\t(today.getMonth() < 10 ? \"0\" : \"\") + (today.getMonth()+1) + \n\t\t\t\t(today.getDate() < 10 ? \"0\" : \"\") + today.getDate() + \"_\" + \n\t\t\t\t(today.getHours() < 10 ? \"0\" : \"\") + today.getHours() + \n\t\t\t\t(today.getMinutes() < 10 ? \"0\" : \"\") + today.getMinutes() + \n\t\t\t\t(today.getSeconds() < 10 ? \"0\" : \"\") + today.getSeconds()\n\t\tconsole.log(date)\n\t\tconst uploadTask = storage.ref('/').child(date+\".jpg\").put(this.dataURItoBlob(this.state.imageList[0].dataURL))\n\t\t//initiates the firebase side uploading \n\t\tuploadTask.on('state_changed', \n\t\t(snapShot) => {\n\t\t\t\n\t\t}, (err) => {\n\t\t\t//catches the errors\n\t\t\tconsole.log(err)\n\t\t}, () => {\n\t\t// gets the functions from storage refences the image storage in firebase by the children\n\t\t// gets the download url then sets the image from firebase as the value for the imgUrl key:\n\t\t\tstorage.ref('/').child(date).getDownloadURL()\n\t\t\t.then(fireBaseUrl => {\n\t\t\t\t// console.log(fireBaseUrl)\n\t\t\t})\n\t\t\t//takes a snap shot of the process as it is happening\n\t\t\tvar url = new URL(\"https://us-central1-letswalk-c0e21.cloudfunctions.net/SendContentToAllRoom\"), params = { content:date, kind: \"photo\" }\n\t\t\tObject.keys(params).forEach(key => url.searchParams.append(key, params[key]));\n\t\t\tfetch(url)\n\t\t\t.then(res => res.json())\n\t\t\t.then((data) => {\n\t\t\t\tconsole.log(data);\n\t\t\t\tconsole.log(\"下載\");\n\t\t\t\tfetch('https://us-central1-letswalk-c0e21.cloudfunctions.net/GetAllRoomInfo')\n\t\t\t\t.then(res => res.json())\n\t\t\t\t.then((data) => {\n\t\t\t\t\tthis.setState({ \n\t\t\t\t\t\troomInfo: JSON.parse(data).room,\n\t\t\t\t\t\tuserInfo: JSON.parse(data).users,\n\t\t\t\t\t})\n\t\t\t\t\tconsole.log(this.state.roomInfo);\n\t\t\t\t\tconsole.log(this.state.userInfo);\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\topen: false,\n\t\t\t\t\t});\n\t\t\t\t})\n\t\t\t\t.catch(console.log)\n\t\t\t})\n\t\t\t.catch(console.log)\n\t\t})\n\t};\n\n\thandleChange = (e) => {\n        this.setState({\n            content: e.target.value\n        });\n\t}\n\n\tonChange = (imageList) => {\n\t\t// data for submit\n\t\tconsole.log(imageList);\n\t\tthis.setState({\n\t\t\timageList: imageList,\n\t\t});\n\t};\n\n\trender () {\n\t\tlet data = [];\n\t\tif(this.state.roomInfo.length !== 0){\n\t\t\tlet len = this.state.roomInfo.length;\n\t\t\tfor(let i=0;i<len;i++){\n\t\t\t\tdata.push(\n\t\t\t\t\t<Grid item xs={3}>\n\t\t\t\t\t\t<Paper>\n\t\t\t\t\t\t\t<List>\n\t\t\t\t\t\t\t\t<ListItem button component={Link} to={{pathname: \"/teaminfo\", state:{roomId: this.state.roomInfo[i].id, userInfo:this.state.userInfo, user1:this.state.roomInfo[i].user[0], user2:this.state.roomInfo[i].user[1]}}}>\n\t\t\t\t\t\t\t\t\t<ListItemText>\n\t\t\t\t\t\t\t\t\t\t{ this.state.userInfo[this.state.roomInfo[i].user[0]] } & { this.state.userInfo[this.state.roomInfo[i].user[1]] }\n\t\t\t\t\t\t\t\t\t</ListItemText>\n\t\t\t\t\t\t\t\t\t{ this.state.roomInfo[i].active === 1 ?\n\t\t\t\t\t\t\t\t\t\t<ListItemText style={{backgroundColor : \"#37ABA2\", textAlign : \"center\", color: \"#FFFFFF\"}}>\n\t\t\t\t\t\t\t\t\t\t\t組隊中\n\t\t\t\t\t\t\t\t\t\t</ListItemText> :\n\t\t\t\t\t\t\t\t\t\t<ListItemText style={{backgroundColor : \"#FF5151\", textAlign : \"center\", color: \"#FFFFFF\"}}>\n\t\t\t\t\t\t\t\t\t\t\t已解除\n\t\t\t\t\t\t\t\t\t\t</ListItemText>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t\t\t</List>\n\t\t\t\t\t\t</Paper>\n\t\t\t\t\t</Grid>\n\t\t\t\t)\n\t\t\t}\n\t\t}\n        \n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<Grid container spacing={5}>\n\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t<Breadcrumbs aria-label=\"breadcrumb\">\n\t\t\t\t\t\t\t<Typography color=\"textPrimary\">隊伍列表</Typography>\n\t\t\t\t\t\t</Breadcrumbs>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t<Grid container spacing={3}>\n\t\t\t\t\t\t\t{ data }\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Fab color=\"primary\" aria-label=\"text\" onClick={this.handleClickOpen} style={{backgroundColor: \"#37ABA2\", right: \"20px\", bottom: \"10px\", left: \"auto\", position: \"absolute\"}}>\n\t\t\t\t\t\t<TextFieldsIcon />\n\t\t\t\t\t</Fab>\n\t\t\t\t\t<Fab color=\"primary\" aria-label=\"photo\" onClick={this.handleClickOpen1} style={{backgroundColor: \"#37ABA2\", right: \"100px\", bottom: \"10px\", left: \"auto\", position: \"absolute\"}}>\n\t\t\t\t\t\t<PhotoIcon />\n\t\t\t\t\t</Fab>\n\t\t\t\t\t<Dialog open={this.state.open} onClose={this.handleClose} aria-labelledby=\"form-dialog-title\">\n\t\t\t\t\t\t\t<DialogTitle id=\"form-dialog-title\">Ｗalking Talking</DialogTitle>\n\t\t\t\t\t\t\t<DialogContent>\n\t\t\t\t\t\t\t<DialogContentText>\n\t\t\t\t\t\t\t\t傳送圖片至全部聊天室\n\t\t\t\t\t\t\t</DialogContentText>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\tvalue={this.state.content}\n\t\t\t\t\t\t\t\tonChange={this.handleChange}\n\t\t\t\t\t\t\t\tlabel=\"要說的話...\"\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</DialogContent>\n\t\t\t\t\t\t\t<DialogActions>\n\t\t\t\t\t\t\t<Button onClick={this.handleClickClose} color=\"primary\">\n\t\t\t\t\t\t\t\t取消\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t<Button onClick={this.handleClose} color=\"primary\">\n\t\t\t\t\t\t\t\t確認\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</DialogActions>\n\t\t\t\t\t\t</Dialog>\n\t\t\t\t\t\t<Dialog open={this.state.photo}  aria-labelledby=\"form-dialog-title\">\n\t\t\t\t\t\t\t<DialogTitle id=\"form-dialog-title\">Ｗalking Talking</DialogTitle>\n\t\t\t\t\t\t\t<DialogContent>\n\t\t\t\t\t\t\t<DialogContentText>\n\t\t\t\t\t\t\t\t傳送訊息至全部聊天室\n\t\t\t\t\t\t\t</DialogContentText>\n\t\t\t\t\t\t\t<ImageUploading\n\t\t\t\t\t\t\t\tonChange={this.onChange}\n\t\t\t\t\t\t\t\tmaxNumber={1}\n\t\t\t\t\t\t\t\tmultiple\n\t\t\t\t\t\t\t\tmaxFileSize={5 * 1024 * 1024}\n\t\t\t\t\t\t\t\tacceptType={[\"jpg\", \"gif\", \"png\"]}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{({ imageList, onImageUpload, onImageRemoveAll }) => (\n\t\t\t\t\t\t\t\t// write your building UI\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<button onClick={onImageUpload}>Upload images</button>\n\t\t\t\t\t\t\t\t\t{/* <button onClick={onImageRemoveAll}>Remove all images</button> */}\n\n\t\t\t\t\t\t\t\t\t{imageList.map((image) => (\n\t\t\t\t\t\t\t\t\t<div key={image.key}>\n\t\t\t\t\t\t\t\t\t\t<img src={image.dataURL} width=\"400\" height=\"400\" />\n\t\t\t\t\t\t\t\t\t\t{/* <button onClick={image.onUpdate}>Update</button> */}\n\t\t\t\t\t\t\t\t\t\t<button onClick={image.onRemove}>Remove</button>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</ImageUploading>\n\t\t\t\t\t\t\t</DialogContent>\n\t\t\t\t\t\t\t<DialogActions>\n\t\t\t\t\t\t\t<Button onClick={this.handleClickClose1} color=\"primary\">\n\t\t\t\t\t\t\t\t取消\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t<Button onClick={this.handleClose1} color=\"primary\">\n\t\t\t\t\t\t\t\t確認\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</DialogActions>\n\t\t\t\t\t\t</Dialog>\n\t\t\t\t</Grid>\n\t\t\t\t<Backdrop style={{ color: '#fff'}} open={this.state.open}>\n\t\t\t\t\t<CircularProgress color=\"inherit\" />\n\t\t\t\t</Backdrop>\n\t\t\t</div>\n\t\t);\n\t}\n}\nexport default TeamList;","import React from 'react';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Grid from '@material-ui/core/Grid';\nimport Paper from '@material-ui/core/Paper';\nimport Typography from '@material-ui/core/Typography';\nimport Breadcrumbs from '@material-ui/core/Breadcrumbs';\nimport { Link } from \"react-router-dom\";\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport { withStyles } from '@material-ui/core/styles';\nimport Fab from '@material-ui/core/Fab';\nimport PhotoIcon from '@material-ui/icons/Photo';\nimport TextFieldsIcon from '@material-ui/icons/TextFields';\nimport TextField from '@material-ui/core/TextField';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport Button from '@material-ui/core/Button';\nimport Backdrop from '@material-ui/core/Backdrop';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport ImageUploading from \"react-images-uploading\";\n\nimport {storage} from \"./firebase/firebase\";\n\n\nconst table_style = {\n\tpadding: '50px',\n}\n\nconst CustomTableCell = withStyles(theme => ({\n\thead: {\n\t\tbackgroundColor: \"#37ABA2\",\n\t\tcolor: theme.palette.common.white,\n\t},\n\tbody: {\n\t\tfontSize: 14,\n\t},\n}))(TableCell);\n\nclass TeamInfo extends React.Component {\n\n\tstate = {\n\t\troomId: \"\",\n\t\troomInfo: [],\n\t\tuserInfo: [],\n\t\tmessage: [],\n\t\tmessageDate: [],\n\t\tstepInfo: [],\n\t\tuser1: \"\",\n\t\tuser2: \"\",\n\t\topen: false,\n\t\tphoto: false,\n\t\tcontent: \"\",\n\t\tprogressOpen: false,\n\t\timageList: [],\n\t}\n\n\tcomponentDidMount() {\n\t\tconst { roomId } = this.props.location.state;\n\t\tconst { userInfo } = this.props.location.state;\n\t\tconst { user1 } = this.props.location.state;\n\t\tconst { user2 } = this.props.location.state;\n\t\tthis.setState({\n\t\t\troomId : roomId,\n\t\t\tuserInfo : userInfo,\n\t\t\tuser1 : user1,\n\t\t\tuser2 : user2,\n\t\t\tprogressOpen : true, \n\t\t})\n\t\tconsole.log(roomId);\n\t\tconsole.log(userInfo);\n\n\t\tconsole.log(\"下載\")\n\t\tvar url = new URL(\"https://us-central1-letswalk-c0e21.cloudfunctions.net/GetRoomInfo\"), params = { room:roomId }\n\t\tObject.keys(params).forEach(key => url.searchParams.append(key, params[key]));\n\t\tfetch(url)\n        .then(res => res.json())\n        .then((data) => {\n\t\t\tthis.setState({ \n\t\t\t\tmessage: JSON.parse(data).message,\n\t\t\t\tmessageDate: JSON.parse(data).messageDate,\n\t\t\t\tstepInfo: JSON.parse(data).stepData[0],\n\t\t\t\tprogressOpen : false, \n\t\t\t})\n\t\t\tconsole.log(this.state.message);\n\t\t\tconsole.log(this.state.stepInfo);\n\t\t\tconsole.log(this.state.messageDate);\n        })\n        .catch(console.log)\n\t}\n\n\t\n\n\thandleClickOpen = () => {\n\t\tthis.setState({\n\t\t\topen: true,\n\t\t})\n\t};\n\n\thandleClickOpen1 = () => {\n\t\tthis.setState({\n\t\t\tphoto: true,\n\t\t})\n\t};\n\n\thandleClickClose = () => {\n\t\tthis.setState({\n\t\t\topen: false,\n\t\t})\n\t};\n\n\thandleClickClose1 = () => {\n\t\tthis.setState({\n\t\t\tphoto: false,\n\t\t})\n\t};\n\n\thandleClose = () => {\n\t\tthis.setState({\n\t\t\topen: false,\n\t\t\tprogressOpen: true,\n\t\t})\n\t\tconsole.log(this.state.content);\n\t\tconsole.log(\"上傳\")\n\t\tvar url = new URL(\"https://us-central1-letswalk-c0e21.cloudfunctions.net/SendContentToRoom\"), params = { room:this.state.roomId, content:this.state.content, kind: \"text\" }\n\t\tObject.keys(params).forEach(key => url.searchParams.append(key, params[key]));\n\t\tfetch(url)\n        .then(res => res.json())\n        .then((data) => {\n\t\t\tconsole.log(data);\n\t\t\tconsole.log(\"下載\");\n\t\t\tvar url = new URL(\"https://us-central1-letswalk-c0e21.cloudfunctions.net/GetRoomInfo\"), params = { room:this.state.roomId }\n\t\t\tObject.keys(params).forEach(key => url.searchParams.append(key, params[key]));\n\t\t\tfetch(url)\n\t\t\t.then(res => res.json())\n\t\t\t.then((data) => {\n\t\t\t\tthis.setState({ \n\t\t\t\t\tmessage: JSON.parse(data).message,\n\t\t\t\t\tstepInfo: JSON.parse(data).stepData[0],\n\t\t\t\t\tprogressOpen: false,\n\t\t\t\t})\n\t\t\t\tconsole.log(this.state.stepInfo);\n\t\t\t})\n\t\t\t.catch(console.log)\n        })\n        .catch(console.log)\n\t};\n\n\thandleFireBaseUpload = e => {\n\t\te.preventDefault()\n\t\t\n\t}\n\tdataURItoBlob(dataURI) {\n\t\t// convert base64/URLEncoded data component to raw binary data held in a string\n\t\tvar byteString;\n\t\tif (dataURI.split(',')[0].indexOf('base64') >= 0)\n\t\t\tbyteString = atob(dataURI.split(',')[1]);\n\t\telse\n\t\t\tbyteString = unescape(dataURI.split(',')[1]);\n\t\n\t\t// separate out the mime component\n\t\tvar mimeString = dataURI.split(',')[0].split(':')[1].split(';')[0];\n\t\n\t\t// write the bytes of the string to a typed array\n\t\tvar ia = new Uint8Array(byteString.length);\n\t\tfor (var i = 0; i < byteString.length; i++) {\n\t\t\tia[i] = byteString.charCodeAt(i);\n\t\t}\n\t\n\t\treturn new Blob([ia], {type:mimeString});\n\t}\n\n\thandleClose1 = () => {\n\t\tthis.setState({\n\t\t\tphoto: false,\n\t\t\tprogressOpen: true,\n\t\t})\n\t\tconsole.log(this.state.imageList[0]);\n\t\tconsole.log('start of upload')\n\t\tconst today = new Date();\n\t\tlet date = \"\";\n\t\tdate = today.getFullYear() + \n\t\t\t\t(today.getMonth() < 10 ? \"0\" : \"\") + (today.getMonth()+1) + \n\t\t\t\t(today.getDate() < 10 ? \"0\" : \"\") + today.getDate() + \"_\" + \n\t\t\t\t(today.getHours() < 10 ? \"0\" : \"\") + today.getHours() + \n\t\t\t\t(today.getMinutes() < 10 ? \"0\" : \"\") + today.getMinutes() + \n\t\t\t\t(today.getSeconds() < 10 ? \"0\" : \"\") + today.getSeconds()\n\t\tconsole.log(date)\n\t\tconst uploadTask = storage.ref('/').child(date+\".jpg\").put(this.dataURItoBlob(this.state.imageList[0].dataURL))\n\t\t//initiates the firebase side uploading \n\t\tuploadTask.on('state_changed', \n\t\t(snapShot) => {\n\t\t\t\n\t\t}, (err) => {\n\t\t\t//catches the errors\n\t\t\tconsole.log(err)\n\t\t}, () => {\n\t\t// gets the functions from storage refences the image storage in firebase by the children\n\t\t// gets the download url then sets the image from firebase as the value for the imgUrl key:\n\t\t\tstorage.ref('/').child(date).getDownloadURL()\n\t\t\t.then(fireBaseUrl => {\n\t\t\t\t// console.log(fireBaseUrl)\n\t\t\t})\n\t\t\t//takes a snap shot of the process as it is happening\n\t\t\tvar url = new URL(\"https://us-central1-letswalk-c0e21.cloudfunctions.net/SendContentToRoom\"), params = { room:this.state.roomId, content:date, kind: \"photo\" }\n\t\t\tObject.keys(params).forEach(key => url.searchParams.append(key, params[key]));\n\t\t\tfetch(url)\n\t\t\t.then(res => res.json())\n\t\t\t.then((data) => {\n\t\t\t\tconsole.log(data);\n\t\t\t\tconsole.log(\"下載\");\n\t\t\t\tvar url = new URL(\"https://us-central1-letswalk-c0e21.cloudfunctions.net/GetRoomInfo\"), params = { room:this.state.roomId }\n\t\t\t\tObject.keys(params).forEach(key => url.searchParams.append(key, params[key]));\n\t\t\t\tfetch(url)\n\t\t\t\t.then(res => res.json())\n\t\t\t\t.then((data) => {\n\t\t\t\t\tthis.setState({ \n\t\t\t\t\t\tmessageDate: JSON.parse(data).messageDate,\n\t\t\t\t\t\tmessage: JSON.parse(data).message,\n\t\t\t\t\t\tstepInfo: JSON.parse(data).stepData[0],\n\t\t\t\t\t\tprogressOpen: false,\n\t\t\t\t\t})\n\t\t\t\t\tconsole.log(\"testtesttest\");\n\t\t\t\t\tconsole.log(this.state.stepInfo);\n\t\t\t\t\tconsole.log(this.state.message);\n\t\t\t\t})\n\t\t\t\t.catch(console.log)\n\t\t\t})\n\t\t\t.catch(console.log)\n\t\t})\n\t};\n\n\tdownloadImg = (imagepath) => {\n\t\tconsole.log(imagepath)\n\t\tstorage.ref('/').child(imagepath).getDownloadURL()\n\t\t.then(fireBaseUrl => {\n\t\t\tconsole.log(fireBaseUrl)\n\t\t\treturn fireBaseUrl;\n\t\t})\n\t}\n\n\thandleChange = (e) => {\n        this.setState({\n            content: e.target.value\n        });\n\t}\n\n\tonChange = (imageList) => {\n\t\t// data for submit\n\t\tconsole.log(imageList);\n\t\tthis.setState({\n\t\t\timageList: imageList,\n\t\t});\n\t};\n\n\tdownload = () => {\n\t\t//儲存步數資訊\n\t\tlet f1 = \"\";\n\t\tf1 += \"Data,StepGoal,TotalStep,\" + this.state.userInfo[this.state.user1] + \",\" + this.state.userInfo[this.state.user2] + \"\\r\\n\";\n\t\tfor (const [key, value] of Object.entries(this.state.stepInfo)) {\n\t\t\tf1 += key + \",\" + value.TotalStep + \",\" + value.teamStep + \",\" + value[this.state.user1] + \",\" + value[this.state.user2] +  \"\\r\\n\";\n\t\t}\n\t\tconsole.log('儲存步數資訊');\n\t\tconst element1 = document.createElement(\"a\");\n\t\tconst file1 = new Blob([f1]);\n\t\t// element1.href = URL.createObjectURL(file1);\n\t\telement1.setAttribute(\"href\", \"data:text/csv;charset=utf-8,%EF%BB%BF\" + encodeURI(f1));\n\t\telement1.download = \"step(\" + this.state.userInfo[this.state.user1] + \"-\" + this.state.userInfo[this.state.user2] + \").csv\";\n\t\tdocument.body.appendChild(element1); \n\t\telement1.click();\n\t\t//儲存聊天室內容\n\t\tlet f2 = \"\";\n\t\tf2 += \"sender,message\\r\\n\";\n\t\tconsole.log(this.state.message.length)\n\t\tfor(let i=0;i<this.state.message.length;i++){\n\t\t\tif(this.state.message[i].sender === \"admin\") {\n\t\t\t\tif(this.state.message[i].kind === \"photo\"){\n\t\t\t\t\tf2 += this.state.messageDate[i] + \", Mini Steps,\" + \"https://firebasestorage.googleapis.com/v0/b/letswalk-c0e21.appspot.com/o/\"+this.state.message[i].content+\"?alt=media&token=3b51c748-a011-4403-87f8-8ed3e5db0149\" + \"\\r\\n\";\n\t\t\t\t} else{\n\t\t\t\t\tf2 += this.state.messageDate[i] + \", Mini Steps,\" + this.state.message[i].content + \"\\r\\n\";\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif(this.state.message[i].kind === \"photo\"){\n\t\t\t\t\tf2 += this.state.messageDate[i] + \", \" + this.state.userInfo[this.state.message[i].sender] + \", \" + \"https://firebasestorage.googleapis.com/v0/b/letswalk-c0e21.appspot.com/o/\"+this.state.message[i].content+\"?alt=media&token=3b51c748-a011-4403-87f8-8ed3e5db0149\" + \"\\r\\n\";\n\t\t\t\t} else{\n\t\t\t\t\tf2 += this.state.messageDate[i] + \", \" + this.state.userInfo[this.state.message[i].sender] + \",\" + this.state.message[i].content + \"\\r\\n\";\n\t\t\t\t}\n\t\t\t\t\n\t\t\t}\n\t\t\tconsole.log(f2);\n\t\t}\n\t\tconsole.log(f2)\n\t\tconsole.log('儲存聊天室內容');\n\t\tconst element2 = document.createElement(\"a\");\n\t\tconst file2 = new Blob([f2]);\n\t\t// element2.href = URL.createObjectURL(file2);\n\t\telement2.setAttribute(\"href\", \"data:text/csv;charset=utf-8,%EF%BB%BF\" + encodeURI(f2));\n\t\telement2.download = \"chat(\" + this.state.userInfo[this.state.user1] + \"-\" + this.state.userInfo[this.state.user2] + \").csv\";\n\t\tdocument.body.appendChild(element2); \n\t\telement2.click();\n\t  }\n\n\trender () {\n\t\tlet stepList = [];\n\t\tfor (const [key, value] of Object.entries(this.state.stepInfo)) {\n\t\t\tconsole.log(key, value);\n\t\t\tstepList.push(<TableRow>\n\t\t\t\t\t\t\t<CustomTableCell align=\"center\">{ key }</CustomTableCell>\n\t\t\t\t\t\t\t<CustomTableCell align=\"center\">{ value.TotalStep }</CustomTableCell>\n\t\t\t\t\t\t\t<CustomTableCell align=\"center\">{ value.teamStep }</CustomTableCell>\n\t\t\t\t\t\t\t<CustomTableCell align=\"center\">{ value[this.state.user1] }</CustomTableCell>\n\t\t\t\t\t\t\t<CustomTableCell align=\"center\">{ value[this.state.user2] }</CustomTableCell>\n\t\t\t\t\t\t</TableRow>)\n\t\t}\n\t\tconsole.log(stepList);\n        \n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<Grid container spacing={5}>\n\t\t\t\t\t<Grid item xs={10}>\n\t\t\t\t\t\t<Breadcrumbs aria-label=\"breadcrumb\">\n\t\t\t\t\t\t\t<Typography component={Link} color=\"inherit\" to=\"/teamlist\" >\n\t\t\t\t\t\t\t\t隊伍列表\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<Typography color=\"textPrimary\">隊伍資訊( {this.state.userInfo[this.state.user1]} - {this.state.userInfo[this.state.user2] })</Typography>\n\t\t\t\t\t\t</Breadcrumbs>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={2}>\n\t\t\t\t\t\t<Button variant=\"contained\" onClick={this.download} color=\"primary\" style={{align:\"right\", backgroundColor:\"#37ABA2\"}}>\n\t\t\t\t\t\t\t儲存檔案\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={6}>\n\t\t\t\t\t\t<Table style={table_style}>\n\t\t\t\t\t\t\t<TableHead>\n\t\t\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t\t\t<CustomTableCell align=\"center\">Date</CustomTableCell>\n\t\t\t\t\t\t\t\t\t<CustomTableCell align=\"center\">Step Goal</CustomTableCell>\n\t\t\t\t\t\t\t\t\t<CustomTableCell align=\"center\">total steps</CustomTableCell>\n\t\t\t\t\t\t\t\t\t<CustomTableCell align=\"center\">{ this.state.userInfo[this.state.user1] }'s steps</CustomTableCell>\n\t\t\t\t\t\t\t\t\t<CustomTableCell align=\"center\">{ this.state.userInfo[this.state.user2] }'s steps</CustomTableCell>\n\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t</TableHead>\n\t\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t{ stepList }\n\t\t\t\t\t\t</TableBody>\n\t\t\t\t\t</Table>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={6}>\n\t\t\t\t\t\t<Paper style={{maxHeight: 450, overflow: 'auto'}}>\n\t\t\t\t\t\t\t<List>\n\t\t\t\t\t\t\t\t{this.state.message.map((value, index, array) => (\n\t\t\t\t\t\t\t\t\t<ListItem>\n\t\t\t\t\t\t\t\t\t\t{ this.state.message[index].kind === \"photo\" &&\n\t\t\t\t\t\t\t\t\t\t\t<ListItemText>\n\t\t\t\t\t\t\t\t\t\t\t\t<Grid container>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={6}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{ this.state.message[index].sender === \"admin\" && \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={6}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tMini Steps <img src={\"https://firebasestorage.googleapis.com/v0/b/letswalk-c0e21.appspot.com/o/\"+this.state.message[index].content+\".jpg?alt=media&token=3b51c748-a011-4403-87f8-8ed3e5db0149\"} width=\"200\" height=\"200\"></img>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{ this.state.message[index].sender !== \"admin\" && \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={6}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{ this.state.userInfo[this.state.message[index].sender] } <img src={\"https://firebasestorage.googleapis.com/v0/b/letswalk-c0e21.appspot.com/o/\"+this.state.message[index].content+\".jpg?alt=media&token=3b51c748-a011-4403-87f8-8ed3e5db0149\"} width=\"200\" height=\"200\"></img>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={6} align=\"right\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{ this.state.messageDate[index] }\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t\t\t</ListItemText>\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t{ this.state.message[index].kind !== \"photo\" &&\n\t\t\t\t\t\t\t\t\t\t\t<ListItemText>\n\t\t\t\t\t\t\t\t\t\t\t\t<Grid container>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={6}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{ this.state.message[index].sender === \"admin\" && \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={6}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tMini Steps : { this.state.message[index].content }\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{ this.state.message[index].sender !== \"admin\" && \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={6}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{ this.state.userInfo[this.state.message[index].sender] } : { this.state.message[index].content }\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={6} align=\"right\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{ this.state.messageDate[index] }\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t\t\t</ListItemText>\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</List>\n\t\t\t\t\t\t</Paper>\n\t\t\t\t\t\t<Fab color=\"primary\" aria-label=\"text\" onClick={this.handleClickOpen} style={{backgroundColor: \"#37ABA2\", right: \"20px\", bottom: \"10px\", left: \"auto\", position: \"absolute\"}}>\n\t\t\t\t\t\t\t<TextFieldsIcon />\n\t\t\t\t\t\t</Fab>\n\t\t\t\t\t\t<Fab color=\"primary\" aria-label=\"photo\" onClick={this.handleClickOpen1} style={{backgroundColor: \"#37ABA2\", right: \"100px\", bottom: \"10px\", left: \"auto\", position: \"absolute\"}}>\n\t\t\t\t\t\t\t<PhotoIcon />\n\t\t\t\t\t\t</Fab>\n\t\t\t\t\t\t<Dialog open={this.state.open} onClose={this.handleClose} aria-labelledby=\"form-dialog-title\">\n\t\t\t\t\t\t\t<DialogTitle id=\"form-dialog-title\">Ｗalking Talking</DialogTitle>\n\t\t\t\t\t\t\t<DialogContent>\n\t\t\t\t\t\t\t<DialogContentText>\n\t\t\t\t\t\t\t\t傳送訊息至聊天室\n\t\t\t\t\t\t\t</DialogContentText>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\tvalue={this.state.content}\n\t\t\t\t\t\t\t\tonChange={this.handleChange}\n\t\t\t\t\t\t\t\tlabel=\"要說的話...\"\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</DialogContent>\n\t\t\t\t\t\t\t<DialogActions>\n\t\t\t\t\t\t\t<Button onClick={this.handleClickClose} color=\"primary\">\n\t\t\t\t\t\t\t\t取消\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t<Button onClick={this.handleClose} color=\"primary\">\n\t\t\t\t\t\t\t\t確認\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</DialogActions>\n\t\t\t\t\t\t</Dialog>\n\t\t\t\t\t\t<Dialog open={this.state.photo}  aria-labelledby=\"form-dialog-title\">\n\t\t\t\t\t\t\t<DialogTitle id=\"form-dialog-title\">Ｗalking Talking</DialogTitle>\n\t\t\t\t\t\t\t<DialogContent>\n\t\t\t\t\t\t\t<DialogContentText>\n\t\t\t\t\t\t\t\t傳送照片至聊天室\n\t\t\t\t\t\t\t</DialogContentText>\n\t\t\t\t\t\t\t<ImageUploading\n\t\t\t\t\t\t\t\tonChange={this.onChange}\n\t\t\t\t\t\t\t\tmaxNumber={1}\n\t\t\t\t\t\t\t\tmultiple\n\t\t\t\t\t\t\t\tmaxFileSize={5 * 1024 * 1024}\n\t\t\t\t\t\t\t\tacceptType={[\"jpg\", \"gif\", \"png\"]}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{({ imageList, onImageUpload, onImageRemoveAll }) => (\n\t\t\t\t\t\t\t\t// write your building UI\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<button onClick={onImageUpload}>Upload images</button>\n\t\t\t\t\t\t\t\t\t{/* <button onClick={onImageRemoveAll}>Remove all images</button> */}\n\n\t\t\t\t\t\t\t\t\t{imageList.map((image) => (\n\t\t\t\t\t\t\t\t\t<div key={image.key}>\n\t\t\t\t\t\t\t\t\t\t<img src={image.dataURL} width=\"400\" height=\"400\" />\n\t\t\t\t\t\t\t\t\t\t{/* <button onClick={image.onUpdate}>Update</button> */}\n\t\t\t\t\t\t\t\t\t\t<button onClick={image.onRemove}>Remove</button>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</ImageUploading>\n\t\t\t\t\t\t\t</DialogContent>\n\t\t\t\t\t\t\t<DialogActions>\n\t\t\t\t\t\t\t<Button onClick={this.handleClickClose1} color=\"primary\">\n\t\t\t\t\t\t\t\t取消\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t<Button onClick={this.handleClose1} color=\"primary\">\n\t\t\t\t\t\t\t\t確認\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</DialogActions>\n\t\t\t\t\t\t</Dialog>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t\t<Backdrop style={{ color: '#fff'}} open={this.state.open}>\n\t\t\t\t\t<CircularProgress color=\"inherit\" />\n\t\t\t\t</Backdrop>\n\t\t\t</div>\n\t\t);\n\t}\n}\nexport default TeamInfo;","import React from 'react';\nimport Grid from '@material-ui/core/Grid';\nimport Button from '@material-ui/core/Button';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\nimport Avatar from '@material-ui/core/Avatar';\nimport Card from '@material-ui/core/Card';\nimport CardHeader from '@material-ui/core/CardHeader';\nimport TextField from '@material-ui/core/TextField';\nimport Icon from '@material-ui/core/Icon';\n\nclass Notitfication extends React.Component {\n\tstate = {\n\t\tuserinfo: [],\n\t\tleft: [],\n\t\tright: [],\n\t\tmessage: \"\",\n\t}\n\n\tcomponentDidMount() {\n        fetch('https://us-central1-letswalk-c0e21.cloudfunctions.net/GetAllUserInfo')\n        .then(res => res.json())\n        .then((data) => {\n\t\t\t  this.setState({ userinfo: JSON.parse(data) })\n\t\t\t  console.log(this.state.userinfo.userinfo)\n\t\t\t  let left = [];\n\t\t\t  for (const key in this.state.userinfo.userinfo) {\n\t\t\t\t  left.push(key)\n\t\t\t  }\n\t\t\t  this.setState({\n\t\t\t\t  left: left\n\t\t\t  });\n        })\n        .catch(console.log)\n\t}\n\n\n\thandleToggle = (value, position) => () => {\n\t\tconst left = this.state.left;\n\t\tconst right = this.state.right;\n\t\tif(position === 'left'){\n\t\t\tconst currentIndex = this.state.left.indexOf(value);\n\t\t\t// console.log(currentIndex)\n\t\t\tleft.splice(currentIndex, 1);\n\t\t\tright.push(value);\n\t\t} else {\n\t\t\tconst currentIndex = this.state.right.indexOf(value);\n\t\t\t// console.log(currentIndex)\n\t\t\tright.splice(currentIndex, 1);\n\t\t\tleft.push(value);\n\t\t}\n\t\tthis.setState({\n\t\t\tright: right,\n\t\t\tleft: left,\n\t\t});\n\t\t// console.log(this.state.left);\n\t\t// console.log(this.state.right);\n\t\n\t};\n\t\n\thandleAllRight = () => {\n\t\tlet right = this.state.right.concat(this.state.left);\n\t\tthis.setState({\n\t\t\tright: right,\n\t\t\tleft: [],\n\t\t});\n\t};\n\n\thandleAllLeft = () => {\n\t\tlet left = this.state.left.concat(this.state.right);\n\t\tthis.setState({\n\t\t\tright: [],\n\t\t\tleft: left,\n\t\t});\n\t};\n\n\tsendMessage = () => {\n\t\tconst right = this.state.right;\n\t\tlet tokens = [];\n\t\tlet message = this.state.message;\n\t\tfor(let i=0;i<right.length;i++){\n\t\t\ttokens.push(this.state.userinfo.userinfo[right[i]].fcmtoken)\n\t\t}\n\t\tconsole.log(tokens);\n\t\tconsole.log(message)\n\t\tvar url = new URL(\"https://us-central1-letswalk-c0e21.cloudfunctions.net/SendToClient\"), params = {users:tokens, message:message}\n\t\tObject.keys(params).forEach(key => url.searchParams.append(key, params[key]));\n\t\tfetch(url)\n        .then(res => res.json())\n        .then((data) => {\n\t\t\t  console.log(data)\n        })\n        .catch(console.log)\n\t}\n\n\trender () {\n\t\treturn (\n\t\t\t<Grid container spacing={1} justify=\"center\" alignItems=\"center\" >\n\t\t\t\t<Grid item xs={2}>\n\t\t\t\t\t<Card style = {{width: 200,\n\t\t\t\t\t\t\t\theight: 600,\n\t\t\t\t\t\t\t\toverflow: 'auto',}}>\n\t\t\t\t\t\t<CardHeader \n\t\t\t\t\t\t\ttitle = \"尚未選擇\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t{this.state.left.map((index) => (\n\t\t\t\t\t\t\t<List>\n\t\t\t\t\t\t\t\t<ListItem button onClick={this.handleToggle(index, 'left')}>\n\t\t\t\t\t\t\t\t<ListItemAvatar>\n\t\t\t\t\t\t\t\t\t<Avatar/>\n\t\t\t\t\t\t\t\t</ListItemAvatar>\n\t\t\t\t\t\t\t\t<ListItemText>\n\t\t\t\t\t\t\t\t\t{ this.state.userinfo.userinfo[index].name }\n\t\t\t\t\t\t\t\t</ListItemText>\n\t\t\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t\t\t</List>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</Card>\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item xs={1}>\n\t\t\t\t\t<Grid container direction=\"column\" alignItems=\"center\">\n\t\t\t\t\t<Button\n\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\tonClick={this.handleAllRight}\n\t\t\t\t\t\t// disabled={this.left.length === 0}\n\t\t\t\t\t\t// aria-label=\"move all right\"\n\t\t\t\t\t>\n\t\t\t\t\t\t≫\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\tonClick={this.handleAllLeft}\n\t\t\t\t\t\t// disabled={this.right.length === 0}\n\t\t\t\t\t\t// aria-label=\"move all left\"\n\t\t\t\t\t>\n\t\t\t\t\t\t≪\n\t\t\t\t\t</Button>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item xs={2}>\n\t\t\t\t\t<Card style = {{width: 200,\n\t\t\t\t\t\t\t\theight: 600,\n\t\t\t\t\t\t\t\toverflow: 'auto',}}>\n\t\t\t\t\t\t<CardHeader \n\t\t\t\t\t\t\ttitle = \"已選擇\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t{this.state.right.map((index) => (\n\t\t\t\t\t\t\t<List>\n\t\t\t\t\t\t\t\t<ListItem button onClick={this.handleToggle(index, 'right')}>\n\t\t\t\t\t\t\t\t<ListItemAvatar>\n\t\t\t\t\t\t\t\t\t<Avatar/>\n\t\t\t\t\t\t\t\t</ListItemAvatar>\n\t\t\t\t\t\t\t\t<ListItemText>\n\t\t\t\t\t\t\t\t\t{ this.state.userinfo.userinfo[index].name }\n\t\t\t\t\t\t\t\t</ListItemText>\n\t\t\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t\t\t</List>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</Card>\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item xs={2}/>\n\t\t\t\t<Grid item xs={5}>\n\t\t\t\t\t<div align=\"center\">\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tstyle={{ width:400}}\n\t\t\t\t\t\t\tmultiline\n\t\t\t\t\t\t\trows=\"10\"\n\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\tvalue={this.state.message}\n  \t\t\t\t\t\t\tonChange={e => this.setState({ message: e.target.value })}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<p></p>\n\t\t\t\t\t<div align=\"center\">\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\tonClick={this.sendMessage}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tSend notification\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</div>\n\t\t\t\t</Grid>\n\t\t\t</Grid>\n\t\t);\n\t}\n}\nexport default Notitfication;\n\n\n\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Drawer from '@material-ui/core/Drawer';\nimport AppBar from '@material-ui/core/AppBar';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport List from '@material-ui/core/List';\nimport Typography from '@material-ui/core/Typography';\nimport Divider from '@material-ui/core/Divider';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport PeopleIcon from '@material-ui/icons/People';\nimport AccountCircleIcon from '@material-ui/icons/AccountCircle';\nimport SendIcon from '@material-ui/icons/Send';\n\nimport UserList from './UserList'\nimport TeamList from './TeamList'\nimport TeamInfo from './TeamInfo'\nimport Notification from './Notification'\n\nimport { HashRouter, Route, Link } from 'react-router-dom';\n\nconst drawerWidth = 240;\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    display: 'flex',\n  },\n  appBar: {\n    zIndex: theme.zIndex.drawer + 1,\n    backgroundColor: \"#37ABA2\",\n  },\n  drawer: {\n    width: drawerWidth,\n    flexShrink: 0,\n  },\n  drawerPaper: {\n    width: drawerWidth,\n  },\n  content: {\n    flexGrow: 1,\n    padding: theme.spacing(3),\n  },\n  // necessary for content to be below app bar\n  toolbar: theme.mixins.toolbar,\n}));\n\n\n\nexport default function ClippedDrawer() {\n  const classes = useStyles();\n  const [selectedIndex, setSelectedIndex] = React.useState(1);\n\n  const handleListItemClick = (event, index) => {\n    setSelectedIndex(index);\n  };\n\n  return (\n    <div className={classes.root}>\n    <HashRouter>\n      <CssBaseline />\n      <AppBar position=\"fixed\" className={classes.appBar}>\n        <Toolbar>\n          <Typography variant=\"h6\" noWrap>\n            Walking Talking CMS\n          </Typography>\n        </Toolbar>\n      </AppBar>\n\n      <Drawer\n        className={classes.drawer}\n        variant=\"permanent\"\n        classes={{\n          paper: classes.drawerPaper,\n        }}\n      >\n        <div className={classes.toolbar} />\n        <List>\n            <ListItem\n                button\n                selected={selectedIndex === 0}\n                onClick={event => handleListItemClick(event, 0)}\n                component={Link} to={'/'}\n            >\n            <ListItemIcon><AccountCircleIcon/></ListItemIcon>\n            <ListItemText>使用者列表</ListItemText>\n            </ListItem>\n            <Divider/>\n            <ListItem\n                button\n                selected={selectedIndex === 1}\n                onClick={event => handleListItemClick(event, 1)}\n                component={Link} to={'/teamlist'}\n            >\n              <ListItemIcon><PeopleIcon/></ListItemIcon>\n              <ListItemText>組隊列表</ListItemText>\n            </ListItem>\n            <Divider/>\n            {/* <ListItem\n                button\n                selected={selectedIndex === 2}\n                onClick={event => handleListItemClick(event, 2)}\n                component={Link} to={'/notification'}\n            >\n              <ListItemIcon><SendIcon/></ListItemIcon>\n              <ListItemText>發送通知</ListItemText>\n            </ListItem> */}\n            <Divider/>\n        </List>\n      </Drawer>\n\n      <main className={classes.content}>\n        <div className={classes.toolbar} />\n            \n            <div>\n                <Route exact path=\"/\" component={ UserList } />\n                <Route path=\"/userlist\" component={ UserList } />\n                <Route path=\"/teamlist\" component={ TeamList } />\n                <Route path=\"/teaminfo\" component={ TeamInfo } />\n                <Route path=\"/notification\" component={ Notification } />\n            </div>\n            \n      </main>\n    </HashRouter>  \n    </div>\n  );\n}\n","import React from 'react';\nimport ClippedDrawer from './root';\nimport './App.css';\n\n\n\nfunction App() {\n\treturn (\n\t\t<ClippedDrawer/>\n\t);\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}