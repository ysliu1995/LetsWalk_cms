(this.webpackJsonpletwalk_cms=this.webpackJsonpletwalk_cms||[]).push([[0],{103:function(e,t,a){e.exports=a(116)},108:function(e,t,a){},115:function(e,t,a){},116:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),l=a(9),s=a.n(l),r=(a(108),a(52)),c=a(186),i=a(195),m=a(188),u=a(187),h=a(189),f=a(167),p=a(24),g=a(191),d=a(168),E=a(190),b=a(169),k=a(89),v=a.n(k),C=a(88),I=a.n(C),y=a(26),w=a(27),S=a(32),O=a(30),x=a(163),j=a(74),A=a(118),R=a(171),F=a(170),B=a(87),U=a.n(B),D=function(e){Object(S.a)(a,e);var t=Object(O.a)(a);function a(){var e;Object(y.a)(this,a);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(e=t.call.apply(t,[this].concat(o))).state={userinfo:[],open:!1},e.handleClose=function(){e.setState({open:!1})},e.handleToggle=function(){e.setState({open:!0})},e.handleClickOpen=function(){e.download()},e.download=function(){var t="";t+="Name, Email\r\n";for(var a=0;a<e.state.userinfo.userinfo.length;a++)t+=e.state.userinfo.userinfo[a].name+","+e.state.userinfo.userinfo[a].email+"\r\n";console.log("\u5132\u5b58\u4f7f\u7528\u8005\u8cc7\u8a0a");var n=document.createElement("a");n.setAttribute("href","data:text/csv;charset=utf-8,%EF%BB%BF"+encodeURI(t)),n.download="UserInfo.csv",document.body.appendChild(n),n.click()},e}return Object(w.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.setState({open:!0}),fetch("https://us-central1-letswalk-c0e21.cloudfunctions.net/GetAllUserInfo").then((function(e){return e.json()})).then((function(t){e.setState({userinfo:JSON.parse(t)}),console.log(e.state.userinfo),e.state.userinfo.userinfo.sort((function(e,t){return e.email.localeCompare(t.email)})),e.setState({open:!1})})).catch(console.log)}},{key:"render",value:function(){var e=[];if(0!==this.state.userinfo.length)for(var t=this.state.userinfo.userinfo.length,a=0;a<t;a++)e.push(o.a.createElement(x.a,{item:!0,xs:3},o.a.createElement(j.a,null,o.a.createElement(f.a,null,o.a.createElement(d.a,null,o.a.createElement(b.a,null,this.state.userinfo.userinfo[a].name," (",this.state.userinfo.userinfo[a].age,")",o.a.createElement("p",null),this.state.userinfo.userinfo[a].email,o.a.createElement("p",null),0!==this.state.userinfo.userinfo[a].partner?"\u7d44\u968a\u4e2d":"\u5c1a\u672a\u7d44\u968a"))))));return o.a.createElement("div",null,o.a.createElement(x.a,{container:!0,spacing:2},e),o.a.createElement(F.a,{color:"primary","aria-label":"text",onClick:this.handleClickOpen,style:{backgroundColor:"#37ABA2",right:"20px",bottom:"10px",left:"auto",position:"absolute"}},o.a.createElement(U.a,null)),o.a.createElement(A.a,{style:{color:"#fff"},open:this.state.open},o.a.createElement(R.a,{color:"inherit"})))}}]),a}(o.a.Component),L=a(193),N=a(34),T=a(172),M=a(176),J=a(174),P=a(175),G=a(173),z=a(177),W=a(192),_=a(61),H=a.n(_),Y=a(64),K=a.n(Y),Q=a(63),V=a.n(Q),X=a(62),$=a.n(X);a(117);$.a.initializeApp({apiKey:"AIzaSyAnETEp2XQVFv2NdfhDrURjFYTvod3Yv3I",authDomain:"letswalk-c0e21.firebaseapp.com",databaseURL:"https://letswalk-c0e21.firebaseio.com",projectId:"letswalk-c0e21",storageBucket:"letswalk-c0e21.appspot.com",messagingSenderId:"1007650815035",appId:"1:1007650815035:web:d468a7a5d95c4941b1301e"});var q=$.a.storage(),Z=function(e){Object(S.a)(a,e);var t=Object(O.a)(a);function a(){var e;Object(y.a)(this,a);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(e=t.call.apply(t,[this].concat(o))).state={roomInfo:[],userInfo:[],message:[],open:!1,photo:!1,content:"",imageList:[]},e.handleClickOpen=function(){e.setState({open:!0})},e.handleClickOpen1=function(){e.setState({photo:!0})},e.handleClickClose=function(){e.setState({open:!1})},e.handleClickClose1=function(){e.setState({photo:!1})},e.handleClose=function(){e.setState({open:!1,progressOpen:!0}),console.log(e.state.content),console.log("\u4e0a\u50b3");var t=new URL("https://us-central1-letswalk-c0e21.cloudfunctions.net/SendContentToAllRoom"),a={content:e.state.content,kind:"text"};Object.keys(a).forEach((function(e){return t.searchParams.append(e,a[e])})),fetch(t).then((function(e){return e.json()})).then((function(t){console.log(t),console.log("\u4e0b\u8f09"),fetch("https://us-central1-letswalk-c0e21.cloudfunctions.net/GetAllRoomInfo").then((function(e){return e.json()})).then((function(t){e.setState({roomInfo:JSON.parse(t).room,userInfo:JSON.parse(t).users}),console.log(e.state.roomInfo),console.log(e.state.userInfo),e.sortedTeam(),e.setState({open:!1})})).catch(console.log)})).catch(console.log)},e.handleClose1=function(){e.setState({photo:!1,progressOpen:!0}),console.log(e.state.imageList[0]),console.log("start of upload");var t,a=new Date;t=a.getFullYear()+(a.getMonth()<10?"0":"")+(a.getMonth()+1)+(a.getDate()<10?"0":"")+a.getDate()+"_"+(a.getHours()<10?"0":"")+a.getHours()+(a.getMinutes()<10?"0":"")+a.getMinutes()+(a.getSeconds()<10?"0":"")+a.getSeconds(),console.log(t),q.ref("/").child(t+".jpg").put(e.dataURItoBlob(e.state.imageList[0].dataURL)).on("state_changed",(function(e){}),(function(e){console.log(e)}),(function(){q.ref("/").child(t).getDownloadURL().then((function(e){}));var a=new URL("https://us-central1-letswalk-c0e21.cloudfunctions.net/SendContentToAllRoom"),n={content:t,kind:"photo"};Object.keys(n).forEach((function(e){return a.searchParams.append(e,n[e])})),fetch(a).then((function(e){return e.json()})).then((function(t){console.log(t),console.log("\u4e0b\u8f09"),fetch("https://us-central1-letswalk-c0e21.cloudfunctions.net/GetAllRoomInfo").then((function(e){return e.json()})).then((function(t){e.setState({roomInfo:JSON.parse(t).room,userInfo:JSON.parse(t).users}),console.log(e.state.roomInfo),console.log(e.state.userInfo),e.sortedTeam(),e.setState({open:!1})})).catch(console.log)})).catch(console.log)}))},e.handleChange=function(t){e.setState({content:t.target.value})},e.onChange=function(t){console.log(t),e.setState({imageList:t})},e}return Object(w.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.setState({open:!1}),fetch("https://us-central1-letswalk-c0e21.cloudfunctions.net/GetAllRoomInfo").then((function(e){return e.json()})).then((function(t){e.setState({roomInfo:JSON.parse(t).room,userInfo:JSON.parse(t).users}),console.log(e.state.roomInfo),e.sortedTeam(),e.setState({open:!1})})).catch(console.log)}},{key:"sortedTeam",value:function(){this.state.roomInfo.sort((function(e,t){return e.position>t.position?1:-1})),console.log(this.state.roomInfo)}},{key:"dataURItoBlob",value:function(e){var t;t=e.split(",")[0].indexOf("base64")>=0?atob(e.split(",")[1]):unescape(e.split(",")[1]);for(var a=e.split(",")[0].split(":")[1].split(";")[0],n=new Uint8Array(t.length),o=0;o<t.length;o++)n[o]=t.charCodeAt(o);return new Blob([n],{type:a})}},{key:"render",value:function(){var e=[];if(0!==this.state.roomInfo.length)for(var t=this.state.roomInfo.length,a=0;a<t;a++)e.push(o.a.createElement(x.a,{item:!0,xs:3},o.a.createElement(j.a,null,o.a.createElement(f.a,null,o.a.createElement(d.a,{button:!0,component:N.b,to:{pathname:"/teaminfo",state:{roomId:this.state.roomInfo[a].id,userInfo:this.state.userInfo,user1:this.state.roomInfo[a].user[0],user2:this.state.roomInfo[a].user[1]}}},o.a.createElement(b.a,null,this.state.userInfo[this.state.roomInfo[a].user[0]]," & ",this.state.userInfo[this.state.roomInfo[a].user[1]]),1===this.state.roomInfo[a].active?this.state.roomInfo[a].position>=1&&this.state.roomInfo[a].position<=16||this.state.roomInfo[a].position>=27&&this.state.roomInfo[a].position<=38||this.state.roomInfo[a].position>=48&&this.state.roomInfo[a].position<=59?o.a.createElement(b.a,{style:{backgroundColor:"#37ABA2",textAlign:"center",color:"#FFFFFF"}},"\u7d44\u968a\u4e2d"):o.a.createElement(b.a,{style:{backgroundColor:"#66B3FF",textAlign:"center",color:"#FFFFFF"}},"\u7d44\u968a\u4e2d"):o.a.createElement(b.a,{style:{backgroundColor:"#37ABA2",textAlign:"center",color:"#FFFFFF"}},"\u5df2\u96e2\u958b"))))));return o.a.createElement("div",null,o.a.createElement(x.a,{container:!0,spacing:5},o.a.createElement(x.a,{item:!0,xs:12},o.a.createElement(L.a,{"aria-label":"breadcrumb"},o.a.createElement(p.a,{color:"textPrimary"},"\u968a\u4f0d\u5217\u8868"))),o.a.createElement(x.a,{item:!0,xs:12},o.a.createElement(x.a,{container:!0,spacing:3},e)),o.a.createElement(F.a,{color:"primary","aria-label":"text",onClick:this.handleClickOpen,style:{backgroundColor:"#37ABA2",right:"20px",bottom:"10px",left:"auto",position:"absolute"}},o.a.createElement(V.a,null)),o.a.createElement(F.a,{color:"primary","aria-label":"photo",onClick:this.handleClickOpen1,style:{backgroundColor:"#37ABA2",right:"100px",bottom:"10px",left:"auto",position:"absolute"}},o.a.createElement(K.a,null)),o.a.createElement(T.a,{open:this.state.open,onClose:this.handleClose,"aria-labelledby":"form-dialog-title"},o.a.createElement(G.a,{id:"form-dialog-title"},"\uff37alking Talking"),o.a.createElement(J.a,null,o.a.createElement(P.a,null,"\u50b3\u9001\u5716\u7247\u81f3\u5168\u90e8\u804a\u5929\u5ba4"),o.a.createElement(W.a,{autoFocus:!0,margin:"dense",value:this.state.content,onChange:this.handleChange,label:"\u8981\u8aaa\u7684\u8a71...",fullWidth:!0})),o.a.createElement(M.a,null,o.a.createElement(z.a,{onClick:this.handleClickClose,color:"primary"},"\u53d6\u6d88"),o.a.createElement(z.a,{onClick:this.handleClose,color:"primary"},"\u78ba\u8a8d"))),o.a.createElement(T.a,{open:this.state.photo,"aria-labelledby":"form-dialog-title"},o.a.createElement(G.a,{id:"form-dialog-title"},"\uff37alking Talking"),o.a.createElement(J.a,null,o.a.createElement(P.a,null,"\u50b3\u9001\u8a0a\u606f\u81f3\u5168\u90e8\u804a\u5929\u5ba4"),o.a.createElement(H.a,{onChange:this.onChange,maxNumber:1,multiple:!0,maxFileSize:5242880,acceptType:["jpg","gif","png"]},(function(e){var t=e.imageList,a=e.onImageUpload;e.onImageRemoveAll;return o.a.createElement("div",null,o.a.createElement("button",{onClick:a},"Upload images"),t.map((function(e){return o.a.createElement("div",{key:e.key},o.a.createElement("img",{src:e.dataURL,width:"400",height:"400"}),o.a.createElement("button",{onClick:e.onRemove},"Remove"))})))}))),o.a.createElement(M.a,null,o.a.createElement(z.a,{onClick:this.handleClickClose1,color:"primary"},"\u53d6\u6d88"),o.a.createElement(z.a,{onClick:this.handleClose1,color:"primary"},"\u78ba\u8a8d")))),o.a.createElement(A.a,{style:{color:"#fff"},open:this.state.open},o.a.createElement(R.a,{color:"inherit"})))}}]),a}(o.a.Component),ee=a(180),te=a(182),ae=a(178),ne=a(181),oe=a(179),le=a(4),se={padding:"50px"},re=Object(le.a)((function(e){return{head:{backgroundColor:"#37ABA2",color:e.palette.common.white},body:{fontSize:14}}}))(ae.a),ce=function(e){Object(S.a)(a,e);var t=Object(O.a)(a);function a(){var e;Object(y.a)(this,a);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(e=t.call.apply(t,[this].concat(o))).state={roomId:"",roomInfo:[],userInfo:[],message:[],messageDate:[],stepInfo:[],user1:"",user2:"",open:!1,photo:!1,content:"",progressOpen:!1,imageList:[]},e.handleClickOpen=function(){e.setState({open:!0})},e.handleClickOpen1=function(){e.setState({photo:!0})},e.handleClickClose=function(){e.setState({open:!1})},e.handleClickClose1=function(){e.setState({photo:!1})},e.handleClose=function(){e.setState({open:!1,progressOpen:!0}),console.log(e.state.content),console.log("\u4e0a\u50b3");var t=new URL("https://us-central1-letswalk-c0e21.cloudfunctions.net/SendContentToRoom"),a={room:e.state.roomId,content:e.state.content,kind:"text"};Object.keys(a).forEach((function(e){return t.searchParams.append(e,a[e])})),fetch(t).then((function(e){return e.json()})).then((function(t){console.log(t),console.log("\u4e0b\u8f09");var a=new URL("https://us-central1-letswalk-c0e21.cloudfunctions.net/GetRoomInfo"),n={room:e.state.roomId};Object.keys(n).forEach((function(e){return a.searchParams.append(e,n[e])})),fetch(a).then((function(e){return e.json()})).then((function(t){e.setState({message:JSON.parse(t).message,stepInfo:JSON.parse(t).stepData[0],progressOpen:!1}),console.log(e.state.stepInfo)})).catch(console.log)})).catch(console.log)},e.handleFireBaseUpload=function(e){e.preventDefault()},e.handleClose1=function(){e.setState({photo:!1,progressOpen:!0}),console.log(e.state.imageList[0]),console.log("start of upload");var t,a=new Date;t=a.getFullYear()+(a.getMonth()<10?"0":"")+(a.getMonth()+1)+(a.getDate()<10?"0":"")+a.getDate()+"_"+(a.getHours()<10?"0":"")+a.getHours()+(a.getMinutes()<10?"0":"")+a.getMinutes()+(a.getSeconds()<10?"0":"")+a.getSeconds(),console.log(t),q.ref("/").child(t+".jpg").put(e.dataURItoBlob(e.state.imageList[0].dataURL)).on("state_changed",(function(e){}),(function(e){console.log(e)}),(function(){q.ref("/").child(t).getDownloadURL().then((function(e){}));var a=new URL("https://us-central1-letswalk-c0e21.cloudfunctions.net/SendContentToRoom"),n={room:e.state.roomId,content:t,kind:"photo"};Object.keys(n).forEach((function(e){return a.searchParams.append(e,n[e])})),fetch(a).then((function(e){return e.json()})).then((function(t){console.log(t),console.log("\u4e0b\u8f09");var a=new URL("https://us-central1-letswalk-c0e21.cloudfunctions.net/GetRoomInfo"),n={room:e.state.roomId};Object.keys(n).forEach((function(e){return a.searchParams.append(e,n[e])})),fetch(a).then((function(e){return e.json()})).then((function(t){e.setState({messageDate:JSON.parse(t).messageDate,message:JSON.parse(t).message,stepInfo:JSON.parse(t).stepData[0],progressOpen:!1}),console.log("testtesttest"),console.log(e.state.stepInfo),console.log(e.state.message)})).catch(console.log)})).catch(console.log)}))},e.downloadImg=function(e){console.log(e),q.ref("/").child(e).getDownloadURL().then((function(e){return console.log(e),e}))},e.handleChange=function(t){e.setState({content:t.target.value})},e.onChange=function(t){console.log(t),e.setState({imageList:t})},e.download=function(){var t="";t+="Data,StepGoal,TotalStep,"+e.state.userInfo[e.state.user1]+","+e.state.userInfo[e.state.user2]+"\r\n";for(var a=0,n=Object.entries(e.state.stepInfo);a<n.length;a++){var o=Object(r.a)(n[a],2),l=o[0],s=o[1];t+=l+","+s.TotalStep+","+s.teamStep+","+s[e.state.user1]+","+s[e.state.user2]+"\r\n"}console.log("\u5132\u5b58\u6b65\u6578\u8cc7\u8a0a");var c=document.createElement("a");new Blob([t]);c.setAttribute("href","data:text/csv;charset=utf-8,%EF%BB%BF"+encodeURI(t)),c.download="step("+e.state.userInfo[e.state.user1]+"-"+e.state.userInfo[e.state.user2]+").csv",document.body.appendChild(c),c.click();var i="";i+="sender,message\r\n",console.log(e.state.message.length);for(var m=0;m<e.state.message.length;m++)"admin"===e.state.message[m].sender?"photo"===e.state.message[m].kind?i+=e.state.messageDate[m]+", Mini Steps,https://firebasestorage.googleapis.com/v0/b/letswalk-c0e21.appspot.com/o/"+e.state.message[m].content+"?alt=media&token=3b51c748-a011-4403-87f8-8ed3e5db0149\r\n":i+=e.state.messageDate[m]+", Mini Steps,"+e.state.message[m].content+"\r\n":"photo"===e.state.message[m].kind?i+=e.state.messageDate[m]+", "+e.state.userInfo[e.state.message[m].sender]+", https://firebasestorage.googleapis.com/v0/b/letswalk-c0e21.appspot.com/o/"+e.state.message[m].content+"?alt=media&token=3b51c748-a011-4403-87f8-8ed3e5db0149\r\n":i+=e.state.messageDate[m]+", "+e.state.userInfo[e.state.message[m].sender]+","+e.state.message[m].content+"\r\n",console.log(i);console.log(i),console.log("\u5132\u5b58\u804a\u5929\u5ba4\u5167\u5bb9");var u=document.createElement("a");new Blob([i]);u.setAttribute("href","data:text/csv;charset=utf-8,%EF%BB%BF"+encodeURI(i)),u.download="chat("+e.state.userInfo[e.state.user1]+"-"+e.state.userInfo[e.state.user2]+").csv",document.body.appendChild(u),u.click()},e}return Object(w.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.location.state.roomId,a=this.props.location.state.userInfo,n=this.props.location.state.user1,o=this.props.location.state.user2;this.setState({roomId:t,userInfo:a,user1:n,user2:o,progressOpen:!0}),console.log(t),console.log(a),console.log("\u4e0b\u8f09");var l=new URL("https://us-central1-letswalk-c0e21.cloudfunctions.net/GetRoomInfo"),s={room:t};Object.keys(s).forEach((function(e){return l.searchParams.append(e,s[e])})),fetch(l).then((function(e){return e.json()})).then((function(t){e.setState({message:JSON.parse(t).message,messageDate:JSON.parse(t).messageDate,stepInfo:JSON.parse(t).stepData[0],progressOpen:!1}),console.log(e.state.message),console.log(e.state.stepInfo),console.log(e.state.messageDate)})).catch(console.log)}},{key:"dataURItoBlob",value:function(e){var t;t=e.split(",")[0].indexOf("base64")>=0?atob(e.split(",")[1]):unescape(e.split(",")[1]);for(var a=e.split(",")[0].split(":")[1].split(";")[0],n=new Uint8Array(t.length),o=0;o<t.length;o++)n[o]=t.charCodeAt(o);return new Blob([n],{type:a})}},{key:"render",value:function(){for(var e=this,t=[],a=0,n=Object.entries(this.state.stepInfo);a<n.length;a++){var l=Object(r.a)(n[a],2),s=l[0],c=l[1];console.log(s,c),t.push(o.a.createElement(oe.a,null,o.a.createElement(re,{align:"center"},s),o.a.createElement(re,{align:"center"},c.TotalStep),o.a.createElement(re,{align:"center"},c.teamStep),o.a.createElement(re,{align:"center"},c[this.state.user1]),o.a.createElement(re,{align:"center"},c[this.state.user2])))}return console.log(t),o.a.createElement("div",null,o.a.createElement(x.a,{container:!0,spacing:5},o.a.createElement(x.a,{item:!0,xs:10},o.a.createElement(L.a,{"aria-label":"breadcrumb"},o.a.createElement(p.a,{component:N.b,color:"inherit",to:"/teamlist"},"\u968a\u4f0d\u5217\u8868"),o.a.createElement(p.a,{color:"textPrimary"},"\u968a\u4f0d\u8cc7\u8a0a( ",this.state.userInfo[this.state.user1]," - ",this.state.userInfo[this.state.user2],")"))),o.a.createElement(x.a,{item:!0,xs:2},o.a.createElement(z.a,{variant:"contained",onClick:this.download,color:"primary",style:{align:"right",backgroundColor:"#37ABA2"}},"\u5132\u5b58\u6a94\u6848")),o.a.createElement(x.a,{item:!0,xs:6},o.a.createElement(ee.a,{style:se},o.a.createElement(ne.a,null,o.a.createElement(oe.a,null,o.a.createElement(re,{align:"center"},"Date"),o.a.createElement(re,{align:"center"},"Step Goal"),o.a.createElement(re,{align:"center"},"total steps"),o.a.createElement(re,{align:"center"},this.state.userInfo[this.state.user1],"'s steps"),o.a.createElement(re,{align:"center"},this.state.userInfo[this.state.user2],"'s steps"))),o.a.createElement(te.a,null,t))),o.a.createElement(x.a,{item:!0,xs:6},o.a.createElement(j.a,{style:{maxHeight:450,overflow:"auto"}},o.a.createElement(f.a,null,this.state.message.map((function(t,a,n){return o.a.createElement(d.a,null,"photo"===e.state.message[a].kind&&o.a.createElement(b.a,null,o.a.createElement(x.a,{container:!0},o.a.createElement(x.a,{item:!0,xs:6},"admin"===e.state.message[a].sender&&o.a.createElement(x.a,{item:!0,xs:6},"Mini Steps ",o.a.createElement("img",{src:"https://firebasestorage.googleapis.com/v0/b/letswalk-c0e21.appspot.com/o/"+e.state.message[a].content+".jpg?alt=media&token=3b51c748-a011-4403-87f8-8ed3e5db0149",width:"200",height:"200"})),"admin"!==e.state.message[a].sender&&o.a.createElement(x.a,{item:!0,xs:6},e.state.userInfo[e.state.message[a].sender]," ",o.a.createElement("img",{src:"https://firebasestorage.googleapis.com/v0/b/letswalk-c0e21.appspot.com/o/"+e.state.message[a].content+".jpg?alt=media&token=3b51c748-a011-4403-87f8-8ed3e5db0149",width:"200",height:"200"}))),o.a.createElement(x.a,{item:!0,xs:6,align:"right"},e.state.messageDate[a]))),"photo"!==e.state.message[a].kind&&o.a.createElement(b.a,null,o.a.createElement(x.a,{container:!0},o.a.createElement(x.a,{item:!0,xs:6},"admin"===e.state.message[a].sender&&o.a.createElement(x.a,{item:!0,xs:6},"Mini Steps : ",e.state.message[a].content),"admin"!==e.state.message[a].sender&&o.a.createElement(x.a,{item:!0,xs:6},e.state.userInfo[e.state.message[a].sender]," : ",e.state.message[a].content)),o.a.createElement(x.a,{item:!0,xs:6,align:"right"},e.state.messageDate[a]))))})))),o.a.createElement(F.a,{color:"primary","aria-label":"text",onClick:this.handleClickOpen,style:{backgroundColor:"#37ABA2",right:"20px",bottom:"10px",left:"auto",position:"absolute"}},o.a.createElement(V.a,null)),o.a.createElement(F.a,{color:"primary","aria-label":"photo",onClick:this.handleClickOpen1,style:{backgroundColor:"#37ABA2",right:"100px",bottom:"10px",left:"auto",position:"absolute"}},o.a.createElement(K.a,null)),o.a.createElement(T.a,{open:this.state.open,onClose:this.handleClose,"aria-labelledby":"form-dialog-title"},o.a.createElement(G.a,{id:"form-dialog-title"},"\uff37alking Talking"),o.a.createElement(J.a,null,o.a.createElement(P.a,null,"\u50b3\u9001\u8a0a\u606f\u81f3\u804a\u5929\u5ba4"),o.a.createElement(W.a,{autoFocus:!0,margin:"dense",value:this.state.content,onChange:this.handleChange,label:"\u8981\u8aaa\u7684\u8a71...",fullWidth:!0})),o.a.createElement(M.a,null,o.a.createElement(z.a,{onClick:this.handleClickClose,color:"primary"},"\u53d6\u6d88"),o.a.createElement(z.a,{onClick:this.handleClose,color:"primary"},"\u78ba\u8a8d"))),o.a.createElement(T.a,{open:this.state.photo,"aria-labelledby":"form-dialog-title"},o.a.createElement(G.a,{id:"form-dialog-title"},"\uff37alking Talking"),o.a.createElement(J.a,null,o.a.createElement(P.a,null,"\u50b3\u9001\u7167\u7247\u81f3\u804a\u5929\u5ba4"),o.a.createElement(H.a,{onChange:this.onChange,maxNumber:1,multiple:!0,maxFileSize:5242880,acceptType:["jpg","gif","png"]},(function(e){var t=e.imageList,a=e.onImageUpload;e.onImageRemoveAll;return o.a.createElement("div",null,o.a.createElement("button",{onClick:a},"Upload images"),t.map((function(e){return o.a.createElement("div",{key:e.key},o.a.createElement("img",{src:e.dataURL,width:"400",height:"400"}),o.a.createElement("button",{onClick:e.onRemove},"Remove"))})))}))),o.a.createElement(M.a,null,o.a.createElement(z.a,{onClick:this.handleClickClose1,color:"primary"},"\u53d6\u6d88"),o.a.createElement(z.a,{onClick:this.handleClose1,color:"primary"},"\u78ba\u8a8d"))))),o.a.createElement(A.a,{style:{color:"#fff"},open:this.state.open},o.a.createElement(R.a,{color:"inherit"})))}}]),a}(o.a.Component),ie=a(185),me=a(194),ue=a(183),he=a(184),fe=function(e){Object(S.a)(a,e);var t=Object(O.a)(a);function a(){var e;Object(y.a)(this,a);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(e=t.call.apply(t,[this].concat(o))).state={userinfo:[],left:[],right:[],message:""},e.handleToggle=function(t,a){return function(){var n=e.state.left,o=e.state.right;if("left"===a){var l=e.state.left.indexOf(t);n.splice(l,1),o.push(t)}else{var s=e.state.right.indexOf(t);o.splice(s,1),n.push(t)}e.setState({right:o,left:n})}},e.handleAllRight=function(){var t=e.state.right.concat(e.state.left);e.setState({right:t,left:[]})},e.handleAllLeft=function(){var t=e.state.left.concat(e.state.right);e.setState({right:[],left:t})},e.sendMessage=function(){for(var t=e.state.right,a=[],n=e.state.message,o=0;o<t.length;o++)a.push(e.state.userinfo.userinfo[t[o]].fcmtoken);console.log(a),console.log(n);var l=new URL("https://us-central1-letswalk-c0e21.cloudfunctions.net/SendToClient"),s={users:a,message:n};Object.keys(s).forEach((function(e){return l.searchParams.append(e,s[e])})),fetch(l).then((function(e){return e.json()})).then((function(e){console.log(e)})).catch(console.log)},e}return Object(w.a)(a,[{key:"componentDidMount",value:function(){var e=this;fetch("https://us-central1-letswalk-c0e21.cloudfunctions.net/GetAllUserInfo").then((function(e){return e.json()})).then((function(t){e.setState({userinfo:JSON.parse(t)}),console.log(e.state.userinfo.userinfo);var a=[];for(var n in e.state.userinfo.userinfo)a.push(n);e.setState({left:a})})).catch(console.log)}},{key:"render",value:function(){var e=this;return o.a.createElement(x.a,{container:!0,spacing:1,justify:"center",alignItems:"center"},o.a.createElement(x.a,{item:!0,xs:2},o.a.createElement(ue.a,{style:{width:200,height:600,overflow:"auto"}},o.a.createElement(he.a,{title:"\u5c1a\u672a\u9078\u64c7"}),this.state.left.map((function(t){return o.a.createElement(f.a,null,o.a.createElement(d.a,{button:!0,onClick:e.handleToggle(t,"left")},o.a.createElement(ie.a,null,o.a.createElement(me.a,null)),o.a.createElement(b.a,null,e.state.userinfo.userinfo[t].name)))})))),o.a.createElement(x.a,{item:!0,xs:1},o.a.createElement(x.a,{container:!0,direction:"column",alignItems:"center"},o.a.createElement(z.a,{variant:"outlined",size:"small",onClick:this.handleAllRight},"\u226b"),o.a.createElement(z.a,{variant:"outlined",size:"small",onClick:this.handleAllLeft},"\u226a"))),o.a.createElement(x.a,{item:!0,xs:2},o.a.createElement(ue.a,{style:{width:200,height:600,overflow:"auto"}},o.a.createElement(he.a,{title:"\u5df2\u9078\u64c7"}),this.state.right.map((function(t){return o.a.createElement(f.a,null,o.a.createElement(d.a,{button:!0,onClick:e.handleToggle(t,"right")},o.a.createElement(ie.a,null,o.a.createElement(me.a,null)),o.a.createElement(b.a,null,e.state.userinfo.userinfo[t].name)))})))),o.a.createElement(x.a,{item:!0,xs:2}),o.a.createElement(x.a,{item:!0,xs:5},o.a.createElement("div",{align:"center"},o.a.createElement(W.a,{style:{width:400},multiline:!0,rows:"10",variant:"outlined",value:this.state.message,onChange:function(t){return e.setState({message:t.target.value})}})),o.a.createElement("p",null),o.a.createElement("div",{align:"center"},o.a.createElement(z.a,{variant:"contained",color:"primary",onClick:this.sendMessage},"Send notification"))))}}]),a}(o.a.Component),pe=a(11),ge=Object(c.a)((function(e){return{root:{display:"flex"},appBar:{zIndex:e.zIndex.drawer+1,backgroundColor:"#37ABA2"},drawer:{width:240,flexShrink:0},drawerPaper:{width:240},content:{flexGrow:1,padding:e.spacing(3)},toolbar:e.mixins.toolbar}}));function de(){var e=ge(),t=o.a.useState(1),a=Object(r.a)(t,2),n=a[0],l=a[1],s=function(e,t){l(t)};return o.a.createElement("div",{className:e.root},o.a.createElement(N.a,null,o.a.createElement(u.a,null),o.a.createElement(m.a,{position:"fixed",className:e.appBar},o.a.createElement(h.a,null,o.a.createElement(p.a,{variant:"h6",noWrap:!0},"Walking Talking CMS"))),o.a.createElement(i.a,{className:e.drawer,variant:"permanent",classes:{paper:e.drawerPaper}},o.a.createElement("div",{className:e.toolbar}),o.a.createElement(f.a,null,o.a.createElement(d.a,{button:!0,selected:0===n,onClick:function(e){return s(0,0)},component:N.b,to:"/"},o.a.createElement(E.a,null,o.a.createElement(I.a,null)),o.a.createElement(b.a,null,"\u4f7f\u7528\u8005\u5217\u8868")),o.a.createElement(g.a,null),o.a.createElement(d.a,{button:!0,selected:1===n,onClick:function(e){return s(0,1)},component:N.b,to:"/teamlist"},o.a.createElement(E.a,null,o.a.createElement(v.a,null)),o.a.createElement(b.a,null,"\u7d44\u968a\u5217\u8868")),o.a.createElement(g.a,null),o.a.createElement(g.a,null))),o.a.createElement("main",{className:e.content},o.a.createElement("div",{className:e.toolbar}),o.a.createElement("div",null,o.a.createElement(pe.a,{exact:!0,path:"/",component:D}),o.a.createElement(pe.a,{path:"/userlist",component:D}),o.a.createElement(pe.a,{path:"/teamlist",component:Z}),o.a.createElement(pe.a,{path:"/teaminfo",component:ce}),o.a.createElement(pe.a,{path:"/notification",component:fe})))))}a(115);var Ee=function(){return o.a.createElement(de,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(o.a.createElement(Ee,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[103,1,2]]]);
//# sourceMappingURL=main.9f2232ac.chunk.js.map