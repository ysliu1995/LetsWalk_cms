{"version":3,"sources":["UserList.js","TeamList.js","firebase/firebase.js","TeamInfo.js","Notification.js","root.js","App.js","serviceWorker.js","index.js"],"names":["React","Component","TeamList","state","roomInfo","userInfo","message","open","this","setState","fetch","then","res","json","data","JSON","parse","room","users","console","log","catch","length","len","i","push","Grid","item","xs","Paper","List","ListItem","button","component","Link","to","pathname","roomId","id","user1","user","user2","ListItemText","active","style","backgroundColor","textAlign","color","container","spacing","Breadcrumbs","aria-label","Typography","Backdrop","CircularProgress","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","storage","table_style","padding","CustomTableCell","withStyles","theme","head","palette","common","white","body","fontSize","TableCell","TeamInfo","messageDate","stepInfo","photo","content","progressOpen","imageList","handleClickOpen","handleClickOpen1","handleClickClose","handleClickClose1","handleClose","url","URL","params","kind","Object","keys","forEach","key","searchParams","append","stepData","handleFireBaseUpload","e","preventDefault","handleClose1","date","today","Date","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","ref","child","put","dataURItoBlob","dataURL","on","snapShot","err","getDownloadURL","fireBaseUrl","downloadImg","imagepath","handleChange","target","value","onChange","download","f1","entries","TotalStep","teamStep","element1","document","createElement","file1","Blob","href","createObjectURL","appendChild","click","f2","sender","element2","file2","props","location","dataURI","byteString","split","indexOf","atob","unescape","mimeString","ia","Uint8Array","charCodeAt","type","stepList","TableRow","align","Button","variant","onClick","Table","TableHead","TableBody","maxHeight","overflow","map","index","array","src","width","height","Fab","right","bottom","left","position","Dialog","onClose","aria-labelledby","DialogTitle","DialogContent","DialogContentText","TextField","autoFocus","margin","label","fullWidth","DialogActions","maxNumber","multiple","maxFileSize","acceptType","onImageUpload","onImageRemoveAll","image","onRemove","Notitfication","userinfo","handleToggle","currentIndex","splice","handleAllRight","concat","handleAllLeft","sendMessage","tokens","fcmtoken","justify","alignItems","Card","CardHeader","title","ListItemAvatar","Avatar","name","direction","size","multiline","rows","useStyles","makeStyles","root","display","appBar","zIndex","drawer","flexShrink","drawerPaper","flexGrow","toolbar","mixins","ClippedDrawer","classes","useState","selectedIndex","setSelectedIndex","className","CssBaseline","AppBar","Toolbar","noWrap","Drawer","paper","selected","event","ListItemIcon","Divider","exact","path","Notification","App","Boolean","window","hostname","match","ReactDOM","render","getElementById","navigator","serviceWorker","ready","registration","unregister","error"],"mappings":"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","file":"static/js/main.15daf1fe.chunk.js","sourcesContent":["import React from 'react';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\nimport Avatar from '@material-ui/core/Avatar';\nimport Grid from '@material-ui/core/Grid';\nimport Paper from '@material-ui/core/Paper';\nimport Backdrop from '@material-ui/core/Backdrop';\nimport CircularProgress from '@material-ui/core/CircularProgress';\n\nclass UserList extends React.Component {\n\tstate = {\n\t\tuserinfo: [],\n\t\topen: false,\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.setState({\n\t\t\topen: true,\n\t\t});\n        fetch('https://us-central1-letswalk-c0e21.cloudfunctions.net/GetAllUserInfo')\n        .then(res => res.json())\n        .then((data) => {\n\t\t\t  this.setState({ userinfo: JSON.parse(data) })\n\t\t\t  console.log(this.state.userinfo)\n\t\t\t  this.setState({\n\t\t\t\topen: false,\n\t\t\t});\n        })\n        .catch(console.log)\n\t}\n\n\thandleClose = () => {\n\t\tthis.setState({\n\t\t\topen: false,\n\t\t});\n\t};\n\thandleToggle = () => {\n\t\tthis.setState({\n\t\t\topen: true,\n\t\t});\n\t};\n\n\trender () {\n\t\tlet data = [];\n\t\tif(this.state.userinfo.length !== 0){\n\t\t\tlet len = this.state.userinfo.userinfo.length;\n\t\t\tfor(let i=0;i<len;i++){\n\t\t\t\tdata.push(\n\t\t\t\t\t<Grid item xs={3}>\n\t\t\t\t\t\t<Paper>\n\t\t\t\t\t\t\t<List>\n\t\t\t\t\t\t\t\t<ListItem>\n\t\t\t\t\t\t\t\t\t<ListItemText>\n\t\t\t\t\t\t\t\t\t\t{ this.state.userinfo.userinfo[i].name } ({this.state.userinfo.userinfo[i].age}) \n\t\t\t\t\t\t\t\t\t\t<p></p>\n\t\t\t\t\t\t\t\t\t\t{ this.state.userinfo.userinfo[i].partner !== 0 ? \"有組隊\": \"尚未組隊\"}\n\t\t\t\t\t\t\t\t\t</ListItemText>\n\t\t\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t\t\t</List>\n\t\t\t\t\t\t</Paper>\n\t\t\t\t\t</Grid>\n\t\t\t\t)\n\t\t\t}\n\t\t}\n        \n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<Grid container spacing={2}>\n\t\t\t\t\t{ data }\n\t\t\t\t</Grid>\n\t\t\t\t<Backdrop style={{ color: '#fff',}} open={this.state.open}>\n\t\t\t\t\t<CircularProgress color=\"inherit\" />\n\t\t\t\t</Backdrop>\n\t\t\t</div>\n\t\t);\n\t}\n}\nexport default UserList;","import React from 'react';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\nimport Avatar from '@material-ui/core/Avatar';\nimport Grid from '@material-ui/core/Grid';\nimport Paper from '@material-ui/core/Paper';\nimport Typography from '@material-ui/core/Typography';\nimport Breadcrumbs from '@material-ui/core/Breadcrumbs';\nimport { Link } from \"react-router-dom\";\nimport Backdrop from '@material-ui/core/Backdrop';\nimport CircularProgress from '@material-ui/core/CircularProgress';\n\nclass TeamList extends React.Component {\n\tstate = {\n\t\troomInfo: [],\n\t\tuserInfo: [],\n\t\tmessage: [],\n\t\topen: false,\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.setState({\n\t\t\topen: true,\n\t\t});\n        fetch('https://us-central1-letswalk-c0e21.cloudfunctions.net/GetAllRoomInfo')\n        .then(res => res.json())\n        .then((data) => {\n\t\t\tthis.setState({ \n\t\t\t\troomInfo: JSON.parse(data).room,\n\t\t\t\tuserInfo: JSON.parse(data).users,\n\t\t\t})\n\t\t\tconsole.log(this.state.roomInfo);\n\t\t\tconsole.log(this.state.userInfo);\n\t\t\tthis.setState({\n\t\t\t\topen: false,\n\t\t\t});\n        })\n        .catch(console.log)\n\t}\n\n\trender () {\n\t\tlet data = [];\n\t\tif(this.state.roomInfo.length !== 0){\n\t\t\tlet len = this.state.roomInfo.length;\n\t\t\tfor(let i=0;i<len;i++){\n\t\t\t\tdata.push(\n\t\t\t\t\t<Grid item xs={3}>\n\t\t\t\t\t\t<Paper>\n\t\t\t\t\t\t\t<List>\n\t\t\t\t\t\t\t\t<ListItem button component={Link} to={{pathname: \"/teaminfo\", state:{roomId: this.state.roomInfo[i].id, userInfo:this.state.userInfo, user1:this.state.roomInfo[i].user[0], user2:this.state.roomInfo[i].user[1]}}}>\n\t\t\t\t\t\t\t\t\t<ListItemText>\n\t\t\t\t\t\t\t\t\t\t{ this.state.userInfo[this.state.roomInfo[i].user[0]] } & { this.state.userInfo[this.state.roomInfo[i].user[1]] }\n\t\t\t\t\t\t\t\t\t</ListItemText>\n\t\t\t\t\t\t\t\t\t{ this.state.roomInfo[i].active === 1 ?\n\t\t\t\t\t\t\t\t\t\t<ListItemText style={{backgroundColor : \"#37ABA2\", textAlign : \"center\", color: \"#FFFFFF\"}}>\n\t\t\t\t\t\t\t\t\t\t\t組隊中\n\t\t\t\t\t\t\t\t\t\t</ListItemText> :\n\t\t\t\t\t\t\t\t\t\t<ListItemText style={{backgroundColor : \"#FF5151\", textAlign : \"center\", color: \"#FFFFFF\"}}>\n\t\t\t\t\t\t\t\t\t\t\t已解除\n\t\t\t\t\t\t\t\t\t\t</ListItemText>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t\t\t</List>\n\t\t\t\t\t\t</Paper>\n\t\t\t\t\t</Grid>\n\t\t\t\t)\n\t\t\t}\n\t\t}\n        \n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<Grid container spacing={5}>\n\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t<Breadcrumbs aria-label=\"breadcrumb\">\n\t\t\t\t\t\t\t<Typography color=\"textPrimary\">隊伍列表</Typography>\n\t\t\t\t\t\t</Breadcrumbs>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t<Grid container spacing={3}>\n\t\t\t\t\t\t\t{ data }\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t\t<Backdrop style={{ color: '#fff'}} open={this.state.open}>\n\t\t\t\t\t<CircularProgress color=\"inherit\" />\n\t\t\t\t</Backdrop>\n\t\t\t</div>\n\t\t);\n\t}\n}\nexport default TeamList;","import firebase from 'firebase/app'\nimport 'firebase/storage'\n\nvar firebaseConfig = {\n    apiKey: \"AIzaSyAnETEp2XQVFv2NdfhDrURjFYTvod3Yv3I\",\n    authDomain: \"letswalk-c0e21.firebaseapp.com\",\n    databaseURL: \"https://letswalk-c0e21.firebaseio.com\",\n    projectId: \"letswalk-c0e21\",\n    storageBucket: \"letswalk-c0e21.appspot.com\",\n    messagingSenderId: \"1007650815035\",\n    appId: \"1:1007650815035:web:d468a7a5d95c4941b1301e\"\n};\n// Initialize Firebase\nfirebase.initializeApp(firebaseConfig);\n\nconst storage = firebase.storage()\n\nexport  {\n    storage, firebase as default\n  }","import React from 'react';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Grid from '@material-ui/core/Grid';\nimport Paper from '@material-ui/core/Paper';\nimport Typography from '@material-ui/core/Typography';\nimport Breadcrumbs from '@material-ui/core/Breadcrumbs';\nimport { Link } from \"react-router-dom\";\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport { withStyles } from '@material-ui/core/styles';\nimport Fab from '@material-ui/core/Fab';\nimport PhotoIcon from '@material-ui/icons/Photo';\nimport TextFieldsIcon from '@material-ui/icons/TextFields';\nimport TextField from '@material-ui/core/TextField';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport Button from '@material-ui/core/Button';\nimport Backdrop from '@material-ui/core/Backdrop';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport ImageUploading from \"react-images-uploading\";\n\nimport {storage} from \"./firebase/firebase\";\n\n\nconst table_style = {\n\tpadding: '50px',\n}\n\nconst CustomTableCell = withStyles(theme => ({\n\thead: {\n\t\tbackgroundColor: \"#37ABA2\",\n\t\tcolor: theme.palette.common.white,\n\t},\n\tbody: {\n\t\tfontSize: 14,\n\t},\n}))(TableCell);\n\nclass TeamInfo extends React.Component {\n\n\tstate = {\n\t\troomId: \"\",\n\t\troomInfo: [],\n\t\tuserInfo: [],\n\t\tmessage: [],\n\t\tmessageDate: [],\n\t\tstepInfo: [],\n\t\tuser1: \"\",\n\t\tuser2: \"\",\n\t\topen: false,\n\t\tphoto: false,\n\t\tcontent: \"\",\n\t\tprogressOpen: false,\n\t\timageList: [],\n\t}\n\n\tcomponentDidMount() {\n\t\tconst { roomId } = this.props.location.state;\n\t\tconst { userInfo } = this.props.location.state;\n\t\tconst { user1 } = this.props.location.state;\n\t\tconst { user2 } = this.props.location.state;\n\t\tthis.setState({\n\t\t\troomId : roomId,\n\t\t\tuserInfo : userInfo,\n\t\t\tuser1 : user1,\n\t\t\tuser2 : user2,\n\t\t\tprogressOpen : true, \n\t\t})\n\t\tconsole.log(roomId);\n\t\tconsole.log(userInfo);\n\n\t\tconsole.log(\"下載\")\n\t\tvar url = new URL(\"https://us-central1-letswalk-c0e21.cloudfunctions.net/GetRoomInfo\"), params = { room:roomId }\n\t\tObject.keys(params).forEach(key => url.searchParams.append(key, params[key]));\n\t\tfetch(url)\n        .then(res => res.json())\n        .then((data) => {\n\t\t\tthis.setState({ \n\t\t\t\tmessage: JSON.parse(data).message,\n\t\t\t\tmessageDate: JSON.parse(data).messageDate,\n\t\t\t\tstepInfo: JSON.parse(data).stepData[0],\n\t\t\t\tprogressOpen : false, \n\t\t\t})\n\t\t\tconsole.log(this.state.message);\n\t\t\tconsole.log(this.state.stepInfo);\n\t\t\tconsole.log(this.state.messageDate);\n        })\n        .catch(console.log)\n\t}\n\n\t\n\n\thandleClickOpen = () => {\n\t\tthis.setState({\n\t\t\topen: true,\n\t\t})\n\t};\n\n\thandleClickOpen1 = () => {\n\t\tthis.setState({\n\t\t\tphoto: true,\n\t\t})\n\t};\n\n\thandleClickClose = () => {\n\t\tthis.setState({\n\t\t\topen: false,\n\t\t})\n\t};\n\n\thandleClickClose1 = () => {\n\t\tthis.setState({\n\t\t\tphoto: false,\n\t\t})\n\t};\n\n\thandleClose = () => {\n\t\tthis.setState({\n\t\t\topen: false,\n\t\t\tprogressOpen: true,\n\t\t})\n\t\tconsole.log(this.state.content);\n\t\tconsole.log(\"上傳\")\n\t\tvar url = new URL(\"https://us-central1-letswalk-c0e21.cloudfunctions.net/SendContentToRoom\"), params = { room:this.state.roomId, content:this.state.content, kind: \"text\" }\n\t\tObject.keys(params).forEach(key => url.searchParams.append(key, params[key]));\n\t\tfetch(url)\n        .then(res => res.json())\n        .then((data) => {\n\t\t\tconsole.log(data);\n\t\t\tconsole.log(\"下載\");\n\t\t\tvar url = new URL(\"https://us-central1-letswalk-c0e21.cloudfunctions.net/GetRoomInfo\"), params = { room:this.state.roomId }\n\t\t\tObject.keys(params).forEach(key => url.searchParams.append(key, params[key]));\n\t\t\tfetch(url)\n\t\t\t.then(res => res.json())\n\t\t\t.then((data) => {\n\t\t\t\tthis.setState({ \n\t\t\t\t\tmessage: JSON.parse(data).message,\n\t\t\t\t\tstepInfo: JSON.parse(data).stepData[0],\n\t\t\t\t\tprogressOpen: false,\n\t\t\t\t})\n\t\t\t\tconsole.log(this.state.stepInfo);\n\t\t\t})\n\t\t\t.catch(console.log)\n        })\n        .catch(console.log)\n\t};\n\n\thandleFireBaseUpload = e => {\n\t\te.preventDefault()\n\t\t\n\t}\n\tdataURItoBlob(dataURI) {\n\t\t// convert base64/URLEncoded data component to raw binary data held in a string\n\t\tvar byteString;\n\t\tif (dataURI.split(',')[0].indexOf('base64') >= 0)\n\t\t\tbyteString = atob(dataURI.split(',')[1]);\n\t\telse\n\t\t\tbyteString = unescape(dataURI.split(',')[1]);\n\t\n\t\t// separate out the mime component\n\t\tvar mimeString = dataURI.split(',')[0].split(':')[1].split(';')[0];\n\t\n\t\t// write the bytes of the string to a typed array\n\t\tvar ia = new Uint8Array(byteString.length);\n\t\tfor (var i = 0; i < byteString.length; i++) {\n\t\t\tia[i] = byteString.charCodeAt(i);\n\t\t}\n\t\n\t\treturn new Blob([ia], {type:mimeString});\n\t}\n\n\thandleClose1 = () => {\n\t\tthis.setState({\n\t\t\tphoto: false,\n\t\t\tprogressOpen: true,\n\t\t})\n\t\tconsole.log(this.state.imageList[0]);\n\t\tconsole.log('start of upload')\n\t\tconst today = new Date();\n\t\tlet date = \"\";\n\t\tdate = today.getFullYear() + \n\t\t\t\t(today.getMonth() < 10 ? \"0\" : \"\") + (today.getMonth()+1) + \n\t\t\t\t(today.getDate() < 10 ? \"0\" : \"\") + today.getDate() + \"_\" + \n\t\t\t\t(today.getHours() < 10 ? \"0\" : \"\") + today.getHours() + \n\t\t\t\t(today.getMinutes() < 10 ? \"0\" : \"\") + today.getMinutes() + \n\t\t\t\t(today.getSeconds() < 10 ? \"0\" : \"\") + today.getSeconds()\n\t\tconsole.log(date)\n\t\tconst uploadTask = storage.ref('/').child(date+\".jpg\").put(this.dataURItoBlob(this.state.imageList[0].dataURL))\n\t\t//initiates the firebase side uploading \n\t\tuploadTask.on('state_changed', \n\t\t(snapShot) => {\n\t\t\t\n\t\t}, (err) => {\n\t\t\t//catches the errors\n\t\t\tconsole.log(err)\n\t\t}, () => {\n\t\t// gets the functions from storage refences the image storage in firebase by the children\n\t\t// gets the download url then sets the image from firebase as the value for the imgUrl key:\n\t\t\tstorage.ref('/').child(date).getDownloadURL()\n\t\t\t.then(fireBaseUrl => {\n\t\t\t\t// console.log(fireBaseUrl)\n\t\t\t})\n\t\t\t//takes a snap shot of the process as it is happening\n\t\t\tvar url = new URL(\"https://us-central1-letswalk-c0e21.cloudfunctions.net/SendContentToRoom\"), params = { room:this.state.roomId, content:date, kind: \"photo\" }\n\t\t\tObject.keys(params).forEach(key => url.searchParams.append(key, params[key]));\n\t\t\tfetch(url)\n\t\t\t.then(res => res.json())\n\t\t\t.then((data) => {\n\t\t\t\tconsole.log(data);\n\t\t\t\tconsole.log(\"下載\");\n\t\t\t\tvar url = new URL(\"https://us-central1-letswalk-c0e21.cloudfunctions.net/GetRoomInfo\"), params = { room:this.state.roomId }\n\t\t\t\tObject.keys(params).forEach(key => url.searchParams.append(key, params[key]));\n\t\t\t\tfetch(url)\n\t\t\t\t.then(res => res.json())\n\t\t\t\t.then((data) => {\n\t\t\t\t\tthis.setState({ \n\t\t\t\t\t\tmessageDate: JSON.parse(data).messageDate,\n\t\t\t\t\t\tmessage: JSON.parse(data).message,\n\t\t\t\t\t\tstepInfo: JSON.parse(data).stepData[0],\n\t\t\t\t\t\tprogressOpen: false,\n\t\t\t\t\t})\n\t\t\t\t\tconsole.log(\"testtesttest\");\n\t\t\t\t\tconsole.log(this.state.stepInfo);\n\t\t\t\t\tconsole.log(this.state.message);\n\t\t\t\t})\n\t\t\t\t.catch(console.log)\n\t\t\t})\n\t\t\t.catch(console.log)\n\t\t})\n\t};\n\n\tdownloadImg = (imagepath) => {\n\t\tconsole.log(imagepath)\n\t\tstorage.ref('/').child(imagepath).getDownloadURL()\n\t\t.then(fireBaseUrl => {\n\t\t\tconsole.log(fireBaseUrl)\n\t\t\treturn fireBaseUrl;\n\t\t})\n\t}\n\n\thandleChange = (e) => {\n        this.setState({\n            content: e.target.value\n        });\n\t}\n\n\tonChange = (imageList) => {\n\t\t// data for submit\n\t\tconsole.log(imageList);\n\t\tthis.setState({\n\t\t\timageList: imageList,\n\t\t});\n\t};\n\n\tdownload = () => {\n\t\t//儲存步數資訊\n\t\tlet f1 = \"\";\n\t\tf1 += \"Data,StepGoal,TotalStep,\" + this.state.userInfo[this.state.user1] + \",\" + this.state.userInfo[this.state.user2] + \"\\r\\n\";\n\t\tfor (const [key, value] of Object.entries(this.state.stepInfo)) {\n\t\t\tf1 += key + \",\" + value.TotalStep + \",\" + value.teamStep + \",\" + value[this.state.user1] + \",\" + value[this.state.user2] +  \"\\r\\n\";\n\t\t}\n\t\tconsole.log('儲存步數資訊');\n\t\tconst element1 = document.createElement(\"a\");\n\t\tconst file1 = new Blob([f1]);\n\t\telement1.href = URL.createObjectURL(file1);\n\t\telement1.download = \"step(\" + this.state.userInfo[this.state.user1] + \"-\" + this.state.userInfo[this.state.user2] + \").csv\";\n\t\tdocument.body.appendChild(element1); \n\t\telement1.click();\n\t\t//儲存聊天室內容\n\t\tlet f2 = \"\";\n\t\tf2 += \"sender,message\\r\\n\";\n\t\tconsole.log(this.state.message.length)\n\t\tfor(let i=0;i<this.state.message.length;i++){\n\t\t\tif(this.state.message[i].sender === \"admin\") {\n\t\t\t\tif(this.state.message[i].kind === \"photo\"){\n\t\t\t\t\tf2 += this.state.messageDate[i] + \", Mini Steps,\" + \"https://firebasestorage.googleapis.com/v0/b/letswalk-c0e21.appspot.com/o/\"+this.state.message[i].message+\"?alt=media&token=3b51c748-a011-4403-87f8-8ed3e5db0149\" + \"\\r\\n\";\n\t\t\t\t} else{\n\t\t\t\t\tf2 += this.state.messageDate[i] + \", Mini Steps,\" + this.state.message[i].message + \"\\r\\n\";\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif(this.state.message[i].kind === \"photo\"){\n\t\t\t\t\tf2 += this.state.messageDate[i] + \", \" + this.state.userInfo[this.state.message[i].sender] + \", \" + \"https://firebasestorage.googleapis.com/v0/b/letswalk-c0e21.appspot.com/o/\"+this.state.message[i].message+\"?alt=media&token=3b51c748-a011-4403-87f8-8ed3e5db0149\" + \"\\r\\n\";\n\t\t\t\t} else{\n\t\t\t\t\tf2 += this.state.messageDate[i] + \", \" + this.state.userInfo[this.state.message[i].sender] + \",\" + this.state.message[i].message + \"\\r\\n\";\n\t\t\t\t}\n\t\t\t\t\n\t\t\t}\n\t\t\tconsole.log(f2);\n\t\t}\n\t\tconsole.log(f2)\n\t\tconsole.log('儲存聊天室內容');\n\t\tconst element2 = document.createElement(\"a\");\n\t\tconst file2 = new Blob([f2]);\n\t\telement2.href = URL.createObjectURL(file2);\n\t\telement2.download = \"chat(\" + this.state.userInfo[this.state.user1] + \"-\" + this.state.userInfo[this.state.user2] + \").csv\";\n\t\tdocument.body.appendChild(element2); \n\t\telement2.click();\n\t  }\n\n\trender () {\n\t\tlet stepList = [];\n\t\tfor (const [key, value] of Object.entries(this.state.stepInfo)) {\n\t\t\tconsole.log(key, value);\n\t\t\tstepList.push(<TableRow>\n\t\t\t\t\t\t\t<CustomTableCell align=\"center\">{ key }</CustomTableCell>\n\t\t\t\t\t\t\t<CustomTableCell align=\"center\">{ value.TotalStep }</CustomTableCell>\n\t\t\t\t\t\t\t<CustomTableCell align=\"center\">{ value.teamStep }</CustomTableCell>\n\t\t\t\t\t\t\t<CustomTableCell align=\"center\">{ value[this.state.user1] }</CustomTableCell>\n\t\t\t\t\t\t\t<CustomTableCell align=\"center\">{ value[this.state.user2] }</CustomTableCell>\n\t\t\t\t\t\t</TableRow>)\n\t\t}\n\t\tconsole.log(stepList);\n        \n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<Grid container spacing={5}>\n\t\t\t\t\t<Grid item xs={10}>\n\t\t\t\t\t\t<Breadcrumbs aria-label=\"breadcrumb\">\n\t\t\t\t\t\t\t<Typography component={Link} color=\"inherit\" to=\"/teamlist\" >\n\t\t\t\t\t\t\t\t隊伍列表\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<Typography color=\"textPrimary\">隊伍資訊( {this.state.userInfo[this.state.user1]} - {this.state.userInfo[this.state.user2] })</Typography>\n\t\t\t\t\t\t</Breadcrumbs>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={2}>\n\t\t\t\t\t\t<Button variant=\"contained\" onClick={this.download} color=\"primary\" style={{align:\"right\", backgroundColor:\"#37ABA2\"}}>\n\t\t\t\t\t\t\t儲存檔案\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={6}>\n\t\t\t\t\t\t<Table style={table_style}>\n\t\t\t\t\t\t\t<TableHead>\n\t\t\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t\t\t<CustomTableCell align=\"center\">Date</CustomTableCell>\n\t\t\t\t\t\t\t\t\t<CustomTableCell align=\"center\">Step Goal</CustomTableCell>\n\t\t\t\t\t\t\t\t\t<CustomTableCell align=\"center\">total steps</CustomTableCell>\n\t\t\t\t\t\t\t\t\t<CustomTableCell align=\"center\">{ this.state.userInfo[this.state.user1] }'s steps</CustomTableCell>\n\t\t\t\t\t\t\t\t\t<CustomTableCell align=\"center\">{ this.state.userInfo[this.state.user2] }'s steps</CustomTableCell>\n\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t</TableHead>\n\t\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t{ stepList }\n\t\t\t\t\t\t</TableBody>\n\t\t\t\t\t</Table>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={6}>\n\t\t\t\t\t\t<Paper style={{maxHeight: 450, overflow: 'auto'}}>\n\t\t\t\t\t\t\t<List>\n\t\t\t\t\t\t\t\t{this.state.message.map((value, index, array) => (\n\t\t\t\t\t\t\t\t\t<ListItem>\n\t\t\t\t\t\t\t\t\t\t{ this.state.message[index].kind === \"photo\" &&\n\t\t\t\t\t\t\t\t\t\t\t<ListItemText>\n\t\t\t\t\t\t\t\t\t\t\t\t<Grid container>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={6}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{ this.state.message[index].sender === \"admin\" && \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={6}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tMini Steps <img src={\"https://firebasestorage.googleapis.com/v0/b/letswalk-c0e21.appspot.com/o/\"+this.state.message[index].content+\".jpg?alt=media&token=3b51c748-a011-4403-87f8-8ed3e5db0149\"} width=\"200\" height=\"200\"></img>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{ this.state.message[index].sender !== \"admin\" && \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={6}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{ this.state.userInfo[this.state.message[index].sender] } <img src={\"https://firebasestorage.googleapis.com/v0/b/letswalk-c0e21.appspot.com/o/\"+this.state.message[index].content+\".jpg?alt=media&token=3b51c748-a011-4403-87f8-8ed3e5db0149\"} width=\"200\" height=\"200\"></img>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={6} align=\"right\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{ this.state.messageDate[index] }\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t\t\t</ListItemText>\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t{ this.state.message[index].kind !== \"photo\" &&\n\t\t\t\t\t\t\t\t\t\t\t<ListItemText>\n\t\t\t\t\t\t\t\t\t\t\t\t<Grid container>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={6}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{ this.state.message[index].sender === \"admin\" && \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={6}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tMini Steps : { this.state.message[index].content }\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{ this.state.message[index].sender !== \"admin\" && \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={6}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{ this.state.userInfo[this.state.message[index].sender] } : { this.state.message[index].content }\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={6} align=\"right\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{ this.state.messageDate[index] }\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t\t\t</ListItemText>\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</List>\n\t\t\t\t\t\t</Paper>\n\t\t\t\t\t\t<Fab color=\"primary\" aria-label=\"text\" onClick={this.handleClickOpen} style={{backgroundColor: \"#37ABA2\", right: \"20px\", bottom: \"10px\", left: \"auto\", position: \"absolute\"}}>\n\t\t\t\t\t\t\t<TextFieldsIcon />\n\t\t\t\t\t\t</Fab>\n\t\t\t\t\t\t<Fab color=\"primary\" aria-label=\"photo\" onClick={this.handleClickOpen1} style={{backgroundColor: \"#37ABA2\", right: \"100px\", bottom: \"10px\", left: \"auto\", position: \"absolute\"}}>\n\t\t\t\t\t\t\t<PhotoIcon />\n\t\t\t\t\t\t</Fab>\n\t\t\t\t\t\t<Dialog open={this.state.open} onClose={this.handleClose} aria-labelledby=\"form-dialog-title\">\n\t\t\t\t\t\t\t<DialogTitle id=\"form-dialog-title\">Let's Walk</DialogTitle>\n\t\t\t\t\t\t\t<DialogContent>\n\t\t\t\t\t\t\t<DialogContentText>\n\t\t\t\t\t\t\t\t傳送訊息至聊天室\n\t\t\t\t\t\t\t</DialogContentText>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\tvalue={this.state.content}\n\t\t\t\t\t\t\t\tonChange={this.handleChange}\n\t\t\t\t\t\t\t\tlabel=\"要說的話...\"\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</DialogContent>\n\t\t\t\t\t\t\t<DialogActions>\n\t\t\t\t\t\t\t<Button onClick={this.handleClickClose} color=\"primary\">\n\t\t\t\t\t\t\t\t取消\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t<Button onClick={this.handleClose} color=\"primary\">\n\t\t\t\t\t\t\t\t確認\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</DialogActions>\n\t\t\t\t\t\t</Dialog>\n\t\t\t\t\t\t<Dialog open={this.state.photo}  aria-labelledby=\"form-dialog-title\">\n\t\t\t\t\t\t\t<DialogTitle id=\"form-dialog-title\">Let's Walk</DialogTitle>\n\t\t\t\t\t\t\t<DialogContent>\n\t\t\t\t\t\t\t<DialogContentText>\n\t\t\t\t\t\t\t\t傳送照片至聊天室\n\t\t\t\t\t\t\t</DialogContentText>\n\t\t\t\t\t\t\t<ImageUploading\n\t\t\t\t\t\t\t\tonChange={this.onChange}\n\t\t\t\t\t\t\t\tmaxNumber={1}\n\t\t\t\t\t\t\t\tmultiple\n\t\t\t\t\t\t\t\tmaxFileSize={5 * 1024 * 1024}\n\t\t\t\t\t\t\t\tacceptType={[\"jpg\", \"gif\", \"png\"]}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{({ imageList, onImageUpload, onImageRemoveAll }) => (\n\t\t\t\t\t\t\t\t// write your building UI\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<button onClick={onImageUpload}>Upload images</button>\n\t\t\t\t\t\t\t\t\t{/* <button onClick={onImageRemoveAll}>Remove all images</button> */}\n\n\t\t\t\t\t\t\t\t\t{imageList.map((image) => (\n\t\t\t\t\t\t\t\t\t<div key={image.key}>\n\t\t\t\t\t\t\t\t\t\t<img src={image.dataURL} width=\"400\" height=\"400\" />\n\t\t\t\t\t\t\t\t\t\t{/* <button onClick={image.onUpdate}>Update</button> */}\n\t\t\t\t\t\t\t\t\t\t<button onClick={image.onRemove}>Remove</button>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</ImageUploading>\n\t\t\t\t\t\t\t</DialogContent>\n\t\t\t\t\t\t\t<DialogActions>\n\t\t\t\t\t\t\t<Button onClick={this.handleClickClose1} color=\"primary\">\n\t\t\t\t\t\t\t\t取消\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t<Button onClick={this.handleClose1} color=\"primary\">\n\t\t\t\t\t\t\t\t確認\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</DialogActions>\n\t\t\t\t\t\t</Dialog>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t\t<Backdrop style={{ color: '#fff'}} open={this.state.open}>\n\t\t\t\t\t<CircularProgress color=\"inherit\" />\n\t\t\t\t</Backdrop>\n\t\t\t</div>\n\t\t);\n\t}\n}\nexport default TeamInfo;","import React from 'react';\nimport Grid from '@material-ui/core/Grid';\nimport Button from '@material-ui/core/Button';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\nimport Avatar from '@material-ui/core/Avatar';\nimport Card from '@material-ui/core/Card';\nimport CardHeader from '@material-ui/core/CardHeader';\nimport TextField from '@material-ui/core/TextField';\nimport Icon from '@material-ui/core/Icon';\n\nclass Notitfication extends React.Component {\n\tstate = {\n\t\tuserinfo: [],\n\t\tleft: [],\n\t\tright: [],\n\t\tmessage: \"\",\n\t}\n\n\tcomponentDidMount() {\n        fetch('https://us-central1-letswalk-c0e21.cloudfunctions.net/GetAllUserInfo')\n        .then(res => res.json())\n        .then((data) => {\n\t\t\t  this.setState({ userinfo: JSON.parse(data) })\n\t\t\t  console.log(this.state.userinfo.userinfo)\n\t\t\t  let left = [];\n\t\t\t  for (const key in this.state.userinfo.userinfo) {\n\t\t\t\t  left.push(key)\n\t\t\t  }\n\t\t\t  this.setState({\n\t\t\t\t  left: left\n\t\t\t  });\n        })\n        .catch(console.log)\n\t}\n\n\n\thandleToggle = (value, position) => () => {\n\t\tconst left = this.state.left;\n\t\tconst right = this.state.right;\n\t\tif(position === 'left'){\n\t\t\tconst currentIndex = this.state.left.indexOf(value);\n\t\t\t// console.log(currentIndex)\n\t\t\tleft.splice(currentIndex, 1);\n\t\t\tright.push(value);\n\t\t} else {\n\t\t\tconst currentIndex = this.state.right.indexOf(value);\n\t\t\t// console.log(currentIndex)\n\t\t\tright.splice(currentIndex, 1);\n\t\t\tleft.push(value);\n\t\t}\n\t\tthis.setState({\n\t\t\tright: right,\n\t\t\tleft: left,\n\t\t});\n\t\t// console.log(this.state.left);\n\t\t// console.log(this.state.right);\n\t\n\t};\n\t\n\thandleAllRight = () => {\n\t\tlet right = this.state.right.concat(this.state.left);\n\t\tthis.setState({\n\t\t\tright: right,\n\t\t\tleft: [],\n\t\t});\n\t};\n\n\thandleAllLeft = () => {\n\t\tlet left = this.state.left.concat(this.state.right);\n\t\tthis.setState({\n\t\t\tright: [],\n\t\t\tleft: left,\n\t\t});\n\t};\n\n\tsendMessage = () => {\n\t\tconst right = this.state.right;\n\t\tlet tokens = [];\n\t\tlet message = this.state.message;\n\t\tfor(let i=0;i<right.length;i++){\n\t\t\ttokens.push(this.state.userinfo.userinfo[right[i]].fcmtoken)\n\t\t}\n\t\tconsole.log(tokens);\n\t\tconsole.log(message)\n\t\tvar url = new URL(\"https://us-central1-letswalk-c0e21.cloudfunctions.net/SendToClient\"), params = {users:tokens, message:message}\n\t\tObject.keys(params).forEach(key => url.searchParams.append(key, params[key]));\n\t\tfetch(url)\n        .then(res => res.json())\n        .then((data) => {\n\t\t\t  console.log(data)\n        })\n        .catch(console.log)\n\t}\n\n\trender () {\n\t\treturn (\n\t\t\t<Grid container spacing={1} justify=\"center\" alignItems=\"center\" >\n\t\t\t\t<Grid item xs={2}>\n\t\t\t\t\t<Card style = {{width: 200,\n\t\t\t\t\t\t\t\theight: 600,\n\t\t\t\t\t\t\t\toverflow: 'auto',}}>\n\t\t\t\t\t\t<CardHeader \n\t\t\t\t\t\t\ttitle = \"尚未選擇\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t{this.state.left.map((index) => (\n\t\t\t\t\t\t\t<List>\n\t\t\t\t\t\t\t\t<ListItem button onClick={this.handleToggle(index, 'left')}>\n\t\t\t\t\t\t\t\t<ListItemAvatar>\n\t\t\t\t\t\t\t\t\t<Avatar/>\n\t\t\t\t\t\t\t\t</ListItemAvatar>\n\t\t\t\t\t\t\t\t<ListItemText>\n\t\t\t\t\t\t\t\t\t{ this.state.userinfo.userinfo[index].name }\n\t\t\t\t\t\t\t\t</ListItemText>\n\t\t\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t\t\t</List>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</Card>\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item xs={1}>\n\t\t\t\t\t<Grid container direction=\"column\" alignItems=\"center\">\n\t\t\t\t\t<Button\n\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\tonClick={this.handleAllRight}\n\t\t\t\t\t\t// disabled={this.left.length === 0}\n\t\t\t\t\t\t// aria-label=\"move all right\"\n\t\t\t\t\t>\n\t\t\t\t\t\t≫\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\tonClick={this.handleAllLeft}\n\t\t\t\t\t\t// disabled={this.right.length === 0}\n\t\t\t\t\t\t// aria-label=\"move all left\"\n\t\t\t\t\t>\n\t\t\t\t\t\t≪\n\t\t\t\t\t</Button>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item xs={2}>\n\t\t\t\t\t<Card style = {{width: 200,\n\t\t\t\t\t\t\t\theight: 600,\n\t\t\t\t\t\t\t\toverflow: 'auto',}}>\n\t\t\t\t\t\t<CardHeader \n\t\t\t\t\t\t\ttitle = \"已選擇\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t{this.state.right.map((index) => (\n\t\t\t\t\t\t\t<List>\n\t\t\t\t\t\t\t\t<ListItem button onClick={this.handleToggle(index, 'right')}>\n\t\t\t\t\t\t\t\t<ListItemAvatar>\n\t\t\t\t\t\t\t\t\t<Avatar/>\n\t\t\t\t\t\t\t\t</ListItemAvatar>\n\t\t\t\t\t\t\t\t<ListItemText>\n\t\t\t\t\t\t\t\t\t{ this.state.userinfo.userinfo[index].name }\n\t\t\t\t\t\t\t\t</ListItemText>\n\t\t\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t\t\t</List>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</Card>\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item xs={2}/>\n\t\t\t\t<Grid item xs={5}>\n\t\t\t\t\t<div align=\"center\">\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tstyle={{ width:400}}\n\t\t\t\t\t\t\tmultiline\n\t\t\t\t\t\t\trows=\"10\"\n\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\tvalue={this.state.message}\n  \t\t\t\t\t\t\tonChange={e => this.setState({ message: e.target.value })}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<p></p>\n\t\t\t\t\t<div align=\"center\">\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\tonClick={this.sendMessage}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tSend notification\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</div>\n\t\t\t\t</Grid>\n\t\t\t</Grid>\n\t\t);\n\t}\n}\nexport default Notitfication;\n\n\n\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Drawer from '@material-ui/core/Drawer';\nimport AppBar from '@material-ui/core/AppBar';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport List from '@material-ui/core/List';\nimport Typography from '@material-ui/core/Typography';\nimport Divider from '@material-ui/core/Divider';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport PeopleIcon from '@material-ui/icons/People';\nimport AccountCircleIcon from '@material-ui/icons/AccountCircle';\nimport SendIcon from '@material-ui/icons/Send';\n\nimport UserList from './UserList'\nimport TeamList from './TeamList'\nimport TeamInfo from './TeamInfo'\nimport Notification from './Notification'\n\nimport { HashRouter, Route, Link } from 'react-router-dom';\n\nconst drawerWidth = 240;\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    display: 'flex',\n  },\n  appBar: {\n    zIndex: theme.zIndex.drawer + 1,\n    backgroundColor: \"#37ABA2\",\n  },\n  drawer: {\n    width: drawerWidth,\n    flexShrink: 0,\n  },\n  drawerPaper: {\n    width: drawerWidth,\n  },\n  content: {\n    flexGrow: 1,\n    padding: theme.spacing(3),\n  },\n  // necessary for content to be below app bar\n  toolbar: theme.mixins.toolbar,\n}));\n\n\n\nexport default function ClippedDrawer() {\n  const classes = useStyles();\n  const [selectedIndex, setSelectedIndex] = React.useState(1);\n\n  const handleListItemClick = (event, index) => {\n    setSelectedIndex(index);\n  };\n\n  return (\n    <div className={classes.root}>\n    <HashRouter>\n      <CssBaseline />\n      <AppBar position=\"fixed\" className={classes.appBar}>\n        <Toolbar>\n          <Typography variant=\"h6\" noWrap>\n            Walking Talking CMS\n          </Typography>\n        </Toolbar>\n      </AppBar>\n\n      <Drawer\n        className={classes.drawer}\n        variant=\"permanent\"\n        classes={{\n          paper: classes.drawerPaper,\n        }}\n      >\n        <div className={classes.toolbar} />\n        <List>\n            {/* <ListItem\n                button\n                selected={selectedIndex === 0}\n                onClick={event => handleListItemClick(event, 0)}\n                component={Link} to={'/'}\n            >\n            <ListItemIcon><AccountCircleIcon/></ListItemIcon>\n            <ListItemText>使用者列表</ListItemText>\n            </ListItem>\n            <Divider/> */}\n            <ListItem\n                button\n                selected={selectedIndex === 1}\n                onClick={event => handleListItemClick(event, 1)}\n                component={Link} to={'/teamlist'}\n            >\n              <ListItemIcon><PeopleIcon/></ListItemIcon>\n              <ListItemText>組隊列表</ListItemText>\n            </ListItem>\n            <Divider/>\n            {/* <ListItem\n                button\n                selected={selectedIndex === 2}\n                onClick={event => handleListItemClick(event, 2)}\n                component={Link} to={'/notification'}\n            >\n              <ListItemIcon><SendIcon/></ListItemIcon>\n              <ListItemText>發送通知</ListItemText>\n            </ListItem> */}\n            <Divider/>\n        </List>\n      </Drawer>\n\n      <main className={classes.content}>\n        <div className={classes.toolbar} />\n            \n            <div>\n                <Route exact path=\"/\" component={ TeamList } />\n                <Route path=\"/teamlist\" component={ TeamList } />\n                <Route path=\"/teaminfo\" component={ TeamInfo } />\n                <Route path=\"/notification\" component={ Notification } />\n            </div>\n            \n      </main>\n    </HashRouter>  \n    </div>\n  );\n}\n","import React from 'react';\nimport ClippedDrawer from './root';\nimport './App.css';\n\n\n\nfunction App() {\n\treturn (\n\t\t<ClippedDrawer/>\n\t);\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}